(window.webpackJsonp=window.webpackJsonp||[]).push([[453],{836:function(t,i,a){"use strict";a.r(i);var d=a(1),r=Object(d.a)({},(function(){var t=this,i=t._self._c;return i("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[i("h1",{attrs:{id:"androidwifi"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#androidwifi"}},[t._v("#")]),t._v(" 使用WIFI连接Android真机")]),t._v(" "),i("p",[t._v("Android 11起，支持无线adb功能，不插手机线也可以实现所有运行调试功能。")]),t._v(" "),i("p",[t._v("在HBuilderX4.71以前，开发者需要自定义adb，使用高版本的adb，通过adb命令连接手机。")]),t._v(" "),i("p",[t._v("从HBuilderX4.71起内置了这个功能。")]),t._v(" "),i("p",[t._v("注意：环境要求")]),t._v(" "),i("ul",[i("li",[i("strong",[t._v("手机")]),t._v("：Android 11（API 级别 30）或更高版本。"),i("strong",[t._v("TV/WearOS")]),t._v("：Android 13（API 级别 33）或更高版本")]),t._v(" "),i("li",[t._v("确保电脑和设备连接同一WiFi网络")]),t._v(" "),i("li",[t._v("确保电脑端防火墙未禁止HBuilderX访问局域网络")])]),t._v(" "),i("h2",{attrs:{id:"hbuilderx-4-71以前的方案"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#hbuilderx-4-71以前的方案"}},[t._v("#")]),t._v(" HBuilderX 4.71以前的方案")]),t._v(" "),i("ul",[i("li",[i("strong",[t._v("HBuilderX 4.61+")]),t._v("：内置adb版本已支持无线调试\n"),i("ul",[i("li",[t._v("内置adb路径："),i("code",[t._v("<HBuilderX安装目录>/plugins/launcher-tools/tools/adbs")])])])]),t._v(" "),i("li",[i("strong",[t._v("低于4.61版本")]),t._v("：需自行配置高版本adb")])]),t._v(" "),i("h3",{attrs:{id:"使用adb命令行配对"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#使用adb命令行配对"}},[t._v("#")]),t._v(" 使用adb命令行配对")]),t._v(" "),i("ol",[i("li",[t._v('在手机的 设置 - 开发者选项 中启用"无线调试"')]),t._v(" "),i("li",[t._v("打开电脑的终端，进入adb目录： "),i("code",[t._v("<HBuilderX安装目录>/plugins/launcher-tools/tools/adbs")]),t._v("。如使用低于4.61版本的HBuilderX，需自定义高版本adb，选择自己的adb路径。")]),t._v(" "),i("li",[t._v("手机端的无线调试中，选择使用 配对码配对设备，找到您的 IP 地址、端口号和配对码。记下设备上显示的 IP 地址、端口号和配对码。")]),t._v(" "),i("li",[t._v("在电脑的终端上，运行 "),i("code",[t._v("adb pair ipaddr:port")]),t._v("。请使用上述 IP 地址和端口号。")])]),t._v(" "),i("img",{staticStyle:{zoom:"40%"},attrs:{src:"https://web-ext-storage.dcloud.net.cn/doc/tutorial/android-wifi/android-wifi-settings-6.png",loading:"lazy"}}),t._v(" "),i("ol",{attrs:{start:"5"}},[i("li",[t._v("收到提示时，输入配对码，如果命令输出"),i("code",[t._v("Successfully paired")]),t._v(", 就代表配对成功。")])]),t._v(" "),i("img",{staticStyle:{zoom:"40%"},attrs:{src:"https://web-ext-storage.dcloud.net.cn/doc/tutorial/android-wifi/android-wifi-settings-5.png",loading:"lazy"}}),t._v(" "),i("p",[t._v("6.配对设备后，你可以在HBuilderX的运行设备列表看到此设备，接下来的使用和有线adb相同。")]),t._v(" "),i("p",[t._v("配对成功后，在一定有效期内，无需再重复配对。在手机端打开无线调试后，过一会手机的通知栏会弹出"),i("code",[t._v("已连接无线调试")]),t._v("。然后在HBuilderX的运行界面会自动检测到该设备。")]),t._v(" "),i("h2",{attrs:{id:"hbuilderx-4-71-的方案"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#hbuilderx-4-71-的方案"}},[t._v("#")]),t._v(" HBuilderX 4.71+的方案")]),t._v(" "),i("p",[t._v("HBuilderX 4.71+提供了可视化操作方式")]),t._v(" "),i("ol",[i("li",[i("strong",[t._v("启动连接")]),t._v("：")])]),t._v(" "),i("ul",[i("li",[t._v('选择"运行到Android App基座"')]),t._v(" "),i("li",[t._v('在设备选择框点击"无线连接"按钮')])]),t._v(" "),i("img",{staticStyle:{zoom:"40%"},attrs:{src:"https://web-ext-storage.dcloud.net.cn/doc/tutorial/android-wifi/android-wifi-settings-1.png",loading:"lazy"}}),t._v(" "),i("ol",{attrs:{start:"2"}},[i("li",[i("strong",[t._v("配对方式选择")]),t._v("：（二选一）")])]),t._v(" "),i("ul",[i("li",[t._v('系统弹出"使用WIFI配对设备"窗口')])]),t._v(" "),i("img",{staticStyle:{zoom:"40%"},attrs:{src:"https://web-ext-storage.dcloud.net.cn/doc/tutorial/android-wifi/android-wifi-settings-2.png",loading:"lazy"}}),t._v(" "),i("ul",[i("li",[t._v('设备端开启"无线调试"功能')])]),t._v(" "),i("img",{staticStyle:{zoom:"40%"},attrs:{src:"https://web-ext-storage.dcloud.net.cn/doc/tutorial/android-wifi/android-wifi-settings-7.png",loading:"lazy"}}),t._v(" "),i("p",[t._v("注意开启无线调试，不是一个持久化的设置，当手机一定时间内不再使用无线调试，该设置会被手机OS自动关闭。一旦被关闭，您需要手动再次开启才可使用。")]),t._v(" "),i("ul",[i("li",[t._v("二维码配对：")])]),t._v(" "),i("p",[t._v('a. 设备选择"二维码配对"')]),t._v(" "),i("p",[t._v("b. 扫描HBuilderX窗口中的二维码")]),t._v(" "),i("img",{staticStyle:{zoom:"40%"},attrs:{src:"https://web-ext-storage.dcloud.net.cn/doc/tutorial/android-wifi/android-wifi-settings-2.png",loading:"lazy"}}),t._v(" "),i("ul",[i("li",[t._v("配对码配对：")])]),t._v(" "),i("p",[t._v('a. HBuilderX选择"配对码配对"')]),t._v(" "),i("p",[t._v('b. 设备选择"配对码配对"')]),t._v(" "),i("p",[t._v("c. 输入设备显示的6位数配对码")]),t._v(" "),i("img",{staticStyle:{zoom:"40%"},attrs:{src:"https://web-ext-storage.dcloud.net.cn/doc/tutorial/android-wifi/android-wifi-settings-3.png",loading:"lazy"}}),t._v(" "),i("img",{staticStyle:{zoom:"40%"},attrs:{src:"https://web-ext-storage.dcloud.net.cn/doc/tutorial/android-wifi/android-wifi-settings-6.png",loading:"lazy"}}),t._v(" "),i("ol",{attrs:{start:"3"}},[i("li",[i("strong",[t._v("完成连接")]),t._v("：")])]),t._v(" "),i("ul",[i("li",[t._v("配对成功后设备将出现在列表中")])]),t._v(" "),i("img",{staticStyle:{zoom:"40%"},attrs:{src:"https://web-ext-storage.dcloud.net.cn/doc/tutorial/android-wifi/android-wifi-settings-4.png",loading:"lazy"}}),t._v(" "),i("p",[t._v("配对成功后，在一定有效期内，无需再重复配对。")]),t._v(" "),i("p",[t._v("但手机端开启无线调试，不是一个持久化的设置，当手机一定时间内不再使用无线调试，该设置会被手机OS自动关闭。")]),t._v(" "),i("p",[t._v("一旦被关闭，您需要手动再次开启无线调试才可使用。")]),t._v(" "),i("p",[t._v("已经完成配对的电脑和手机，在同一网段，下次再想使用无线调试功能时，"),i("strong",[t._v("无需再次配对")]),t._v("，只需在手机端打开无线调试，"),i("strong",[t._v("过一会")]),t._v("手机的通知栏会弹出"),i("code",[t._v("已连接无线调试")]),t._v("。然后在HBuilderX的运行界面会自动检测到该设备。如果一直等不到这个通知栏成功消息，见下方的常见问题。")]),t._v(" "),i("p",[t._v("手机端的无线调试开关模式隐藏的比较深，不方便打开。但Android系统提供了一个快捷方式，在开发者选项中，有一个 快捷设置开发者功能块（可能不同的rom叫法不同），其中有无线调试，打开这个无线调试后，在手机的通知栏下拉，可以显示无线调试的图标。这样就可以在通知栏下拉菜单中快捷开启关闭无线调试了。")]),t._v(" "),i("h3",{attrs:{id:"无线连接常见的问题"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#无线连接常见的问题"}},[t._v("#")]),t._v(" 无线连接常见的问题")]),t._v(" "),i("ul",[i("li",[i("p",[t._v("“通过 Wi-Fi 使用 adb”的功能有时会自动关闭：如果设备切换 Wi-Fi 网络或断开网络连接，就可能会发生这种情况。如需解决此问题，请重新连接到网络。并且尝试关闭无线连接重新打开。")])]),t._v(" "),i("li",[i("p",[t._v("设备连接超时，请重试：adb 依赖于 mDNS 来发现已配对的设备并自动连接到这些设备。")])])]),t._v(" "),i("p",[t._v("1.如果您的网络或设备配置不支持 mDNS 或已停用 mDNS，则需要使用 adb connect ip:port 手动连接到设备。ip和port可以在设备端无线调试中看到。")]),t._v(" "),i("img",{staticStyle:{zoom:"40%"},attrs:{src:"https://web-ext-storage.dcloud.net.cn/doc/tutorial/android-wifi/android-wifi-settings-8.png",loading:"lazy"}}),t._v(" "),i("p",[t._v("2.如果您的设备支持，也可能由于adb缓存等原因导致不能自动连接。可以尝试关闭无线连接后重新打开，重试重新配对连接。")]),t._v(" "),i("ul",[i("li",[i("p",[t._v("配对设备时出错，请重试：安全的 Wi-Fi 网络（如企业 Wi-Fi 网络）可能会阻止点对点连接，并且不允许您通过 Wi-Fi 进行连接。需要关闭防火墙或者设置信任。")])]),t._v(" "),i("li",[i("p",[t._v("有时adb会出现无法理解的故障，开启无线调试后始终无法连接同网段已经配对的设备，此时需要点击手机端 开发者选项 中的 撤销USB调试授权，把配对信息清楚掉，然后重新配对。")])])]),t._v(" "),i("h3",{attrs:{id:"扩展"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#扩展"}},[t._v("#")]),t._v(" 扩展")]),t._v(" "),i("ul",[i("li",[i("a",{attrs:{href:"https://developer.android.google.cn/tools/adb?hl=zh-cn",target:"_blank",rel:"noopener noreferrer"}},[t._v("Google官网adb命令行工具介绍"),i("OutboundLink")],1)])])])}),[],!1,null,null,null);i.default=r.exports}}]);
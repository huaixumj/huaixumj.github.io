(window.webpackJsonp=window.webpackJsonp||[]).push([[454],{839:function(e,_,r){"use strict";r.r(_);var v=r(1),a=Object(v.a)({},(function(){var e=this,_=e._self._c;return _("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[_("h1",{attrs:{id:"run"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#run"}},[e._v("#")]),e._v(" 真机运行常见问题")]),e._v(" "),_("p",[e._v("从在HBuilder/HBuilderX菜单里点真机运行，程序会执行如下几个步骤：")]),e._v(" "),_("ol",[_("li",[e._v("手机硬件通过usb线连接到HBuilder所在电脑，此时可能因为"),_("code",[e._v("手机驱动")]),e._v("、usb口、数据线、手机硬件等多种问题造成连接失败。")]),e._v(" "),_("li",[e._v("HBuilderX通过adb或itunes服务检测手机。此时可能因为手机渠道、usb连接设置、adb设置或adb冲突、itunes设置造成检测不到。")]),e._v(" "),_("li",[e._v("HBuilderX安装调试基座到手机。此时可能因为手机禁止usb安装、Android手机没有sd卡、iOS手机没有信任证书而安装失败。")]),e._v(" "),_("li",[e._v("HBuilderX将ide中的代码同步到手机上并启动调试基座。这一步一般不会出问题。")])]),e._v(" "),_("p",[e._v("可按如下步骤依次排查问题：")]),e._v(" "),_("h2",{attrs:{id:"nomenu"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#nomenu"}},[e._v("#")]),e._v(" 第1步 HX中没有运行到手机的菜单")]),e._v(" "),_("p",[e._v("HBuilderX支持项目类型较多，只有"),_("code",[e._v("uni-app")]),e._v("、"),_("code",[e._v("5+app")]),e._v("、"),_("code",[e._v("wap2app")]),e._v("可以真机运行。它们都会在项目根目录下有个"),_("code",[e._v("manifest.json")]),e._v("文件（uni-cli项目会在src目录下有manifest.json）。")]),e._v(" "),_("p",[e._v("如果是web项目，不能运行到手机，只能运行到浏览器。")]),e._v(" "),_("p",[e._v("如果项目管理器显示项目图标的话，web项目前面的图标是W，5+app和wap2app的图标是A，uni-app的项目图标是方型U，uni-app x的项目图标是圆形U。")]),e._v(" "),_("p",[e._v("如果项目类型未能正确识别，可以对项目点右键 - 重新识别项目类型")]),e._v(" "),_("h2",{attrs:{id:"check"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#check"}},[e._v("#")]),e._v(" 第2步 电脑是否能检测到手机")]),e._v(" "),_("p",[e._v("OS的资源管理器，是否可以发现手机设备。如果插入usb线后电脑检测不到手机设备，那么hx也肯定检测不到。")]),e._v(" "),_("p",[e._v("此时遇到问题一般是：")]),e._v(" "),_("ol",[_("li",[e._v("数据线不合格。有的数据线只能充电，不能发送数据。需要换线。")]),e._v(" "),_("li",[e._v("usb口电压不足或是坏口。需要换usb口，或配置一个带独立电源的usb hub。")])]),e._v(" "),_("p",[e._v("usb和线的问题，可以通过交叉验证来排查具体的问题。")]),e._v(" "),_("p",[e._v("如果您使用的是模拟器，可以不关心usb口和数据线的问题。")]),e._v(" "),_("p",[e._v("Android11起支持无线adb，可不插线进行开发调试，插件市场有三方插件可用，"),_("a",{attrs:{href:"https://ext.dcloud.net.cn/search?q=%E6%97%A0%E7%BA%BFadb&orderBy=Relevance&cat1=1",target:"_blank",rel:"noopener noreferrer"}},[e._v("详见"),_("OutboundLink")],1)]),e._v(" "),_("p",[e._v("老版的windows需要安装手机驱动。如果拒绝安装驱动，也无法检测到手机。安装"),_("code",[e._v("驱动精灵")]),e._v("或"),_("code",[e._v("360、腾讯的各种手机助手")]),e._v("或"),_("a",{attrs:{href:"https://consumer.huawei.com/cn/support/content/zh-cn00731203/?ivk_sa=1024320u?ha_source=Dcloud&ha_sourceId=89000448",target:"_blank",rel:"noopener noreferrer"}},[e._v("华为手机助手"),_("OutboundLink")],1),e._v("可解决驱动安装问题。")]),e._v(" "),_("p",[e._v("如果在启动HBuilderX后才安装驱动连接上手机，可能需要重启HBuilderX。")]),e._v(" "),_("ul",[_("li",[e._v("windows + iOS设备注意事项：\n如果是windows电脑搭配iOS设备，需要安装itunes。有的电脑用iTools等三方软件也可以，但未对三方软件做系统性测试。")])]),e._v(" "),_("p",[e._v("如果你的itunes也连不上你的iOS设备，那HBuilderX肯定也连不上。")]),e._v(" "),_("p",[e._v("有的电脑会停用 Apple Mobile Device Service，这是一个windows系统服务，停止后itunes也无法连接iOS设备。可以在 windows控制面板的服务中手动启动，也可以直接启动itunes，因为itunes启动后会自动启动 Apple Mobile Device Service。")]),e._v(" "),_("p",[e._v("Apple Mobile Device Service 服务启动后，需要重新插拔iOS设备才能检测到。")]),e._v(" "),_("p",[e._v("HBuilderX真机运行并不需要一直开着itunes。itunes仅用于验证手机与电脑是否可正常连接。")]),e._v(" "),_("h2",{attrs:{id:"第3步-电脑与手机是否建立信任调试关系"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#第3步-电脑与手机是否建立信任调试关系"}},[e._v("#")]),e._v(" 第3步 电脑与手机是否建立信任调试关系")]),e._v(" "),_("h3",{attrs:{id:"_3-1-android设备信任"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-android设备信任"}},[e._v("#")]),e._v(" 3.1 Android设备信任")]),e._v(" "),_("p",[e._v("如果您的Android手机已开启"),_("code",[e._v("USB调试模式")]),e._v("，那么数据线连接好电脑和手机后，手机端会弹出确认框，询问是否同意该电脑调试本手机。点击同意进行授权。")]),e._v(" "),_("p",[e._v("如果手机未开启"),_("code",[e._v("USB调试模式")]),e._v("，那么按如下步骤开启。")]),e._v(" "),_("p",[e._v("Android手机的"),_("code",[e._v("设置")]),e._v("中，有一个"),_("code",[e._v("开发人员选项")]),e._v("。不同Rom的入口不一样，有的在 "),_("code",[e._v("系统")]),e._v("中，有的叫 "),_("code",[e._v("系统和更新")]),e._v(" 或 "),_("code",[e._v("更多设置")])]),e._v(" "),_("p",[e._v("如果你找不到这个选项，那说明这个rom默认隐藏了该选项。此时需要上网查一下这个rom如何打开"),_("code",[e._v("开发人员选项")]),e._v("。")]),e._v(" "),_("ul",[_("li",[e._v("比如华为手机是在"),_("code",[e._v("设置")]),e._v("的"),_("code",[e._v("关于手机")]),e._v("里，连续点击7次"),_("code",[e._v("版本号")])]),e._v(" "),_("li",[e._v("小米手机是在"),_("code",[e._v("设置")]),e._v("的"),_("code",[e._v("我的设备")]),e._v("里，连续点击5次"),_("code",[e._v("OS版本")])])]),e._v(" "),_("p",[e._v("连续点击打开开发人员选项后，返回到之前的"),_("code",[e._v("系统")]),e._v("或"),_("code",[e._v("系统和更新")]),e._v("或"),_("code",[e._v("更多设置")]),e._v("中找"),_("code",[e._v("开发人员选项")]),e._v("。")]),e._v(" "),_("p",[e._v("找到"),_("code",[e._v("开发人员选项")]),e._v("后，往下翻，有几个设置项：")]),e._v(" "),_("ul",[_("li",[e._v("USB 调试：打开")]),e._v(" "),_("li",[e._v("“仅充电”模式下允许ADB调试：打开")]),e._v(" "),_("li",[e._v("ADB安装应用：允许。这个项目有点rom叫监控ADB安装应用，如果是这个概念，则需要选关闭监控。不然运行基座安装不到手机上。")])]),e._v(" "),_("p",[e._v("以上设置完成后，如果数据线和电脑连接正常，那么手机端会弹出一个确认框："),_("strong",[e._v("是否允许该电脑调试本手机")]),e._v("。点击同意。并且最好是把始终同意该设备调试勾上。")]),e._v(" "),_("p",[e._v("如不小心拒绝，需要重插手机或重启电脑。")]),e._v(" "),_("p",[e._v("如未弹出询问框，可以拔线重插。")]),e._v(" "),_("p",[e._v("注意，Android5.0及以上系统，不要使用访客模式。这种模式下无法成功运行。")]),e._v(" "),_("p",[e._v("由于Android的开源性，不少国产Android rom的魔改造成兼容性问题：")]),e._v(" "),_("ul",[_("li",[e._v("部分手机如小米，还有usb安装应用的独立权限，需在手机上允许通过usb安装应用。不同rom的界面不一样，请自行搜索你的手机打开usb安装应用的方式。")]),e._v(" "),_("li",[e._v("如果是荣耀Magic UI系列手机，请参考 "),_("a",{attrs:{href:"https://ask.dcloud.net.cn/article/40005",target:"_blank",rel:"noopener noreferrer"}},[e._v("华为荣耀Magic UI系列手机ADB连接手机方法"),_("OutboundLink")],1)])]),e._v(" "),_("h3",{attrs:{id:"_3-2-ios设备信任"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-ios设备信任"}},[e._v("#")]),e._v(" 3.2 iOS设备信任")]),e._v(" "),_("p",[e._v("iOS设备比较简单，数据线连接好电脑和手机后，手机端会弹出确认框，询问是否同意该电脑调试本手机。点击同意进行授权。")]),e._v(" "),_("p",[e._v("特别注意：Windows连接Android手机，一定要确保电脑已安装相应的手机驱动。")]),e._v(" "),_("h2",{attrs:{id:"第4步-hbuilderx检测手机"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#第4步-hbuilderx检测手机"}},[e._v("#")]),e._v(" 第4步 HBuilderX检测手机")]),e._v(" "),_("p",[e._v("在前述工作完成后，终于到了HBuilderX的环节了。")]),e._v(" "),_("h3",{attrs:{id:"_4-1-检测android手机"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-检测android手机"}},[e._v("#")]),e._v(" 4.1 检测Android手机")]),e._v(" "),_("p",[e._v("HBuilderX自带一个ADB，用于调试Android手机。在HBuilderX的安装目录的"),_("code",[e._v("\\plugins\\launcher-tools\\tools\\adbs\\adb.exe")])]),e._v(" "),_("p",[e._v("您也可以在HBuilderX的设置-运行设置中，选择其他的adb和端口。有些三方模拟器必须使用它自定义的端口才能连接。这需要查阅三方模拟器提供商的官方说明。")]),e._v(" "),_("p",[e._v("但如果您自定义了adb和端口，可能只能连接指定的模拟器。连接其他真机时可能无法识别，此时需要清空自定义设置。")]),e._v(" "),_("p",[e._v("当HBuilderX检测手机时，系统进程中会出现adb.exe。如果系统进程出现多个adb.exe，也可能还有其他名字，比如tadb.exe、kadb.exe，请把HBuilderX关闭，然后把进程里的相关adb进程都强制杀掉。")]),e._v(" "),_("p",[e._v("如果您在HBuilderX的运行界面检测不到手机，可以在cmd窗口里找到HBuilderX的安装目录的 \\plugins\\launcher-tools\\tools\\adbs\\adb.exe，执行命令："),_("code",[e._v("adb.exe devices")])]),e._v(" "),_("p",[e._v("这个命令就是google官方的检测手机的命令，如果这个命令拉出的device列表是空的，那么如下可能：")]),e._v(" "),_("ol",[_("li",[e._v("前述步骤中有的未完成")]),e._v(" "),_("li",[e._v("需使用管理员模式运行HBuilderX")]),e._v(" "),_("li",[e._v("某些杀毒软件限制了HBuilderX的行为。此时需要在杀毒软件中给HBuilderX设置白名单。")]),e._v(" "),_("li",[e._v("HBuilderX版本太老，需要升级")]),e._v(" "),_("li",[e._v("HBuilderX的adb被其他adb抢占了。排查抢占问题的方式。"),_("a",{attrs:{href:"#zhanyong"}},[e._v("见下")])]),e._v(" "),_("li",[e._v("HBuilderX的adb版本与手机要求不匹配。需更换adb版本。"),_("a",{attrs:{href:"#adbver"}},[e._v("见下")])])]),e._v(" "),_("p",[e._v("有时mac上不得不"),_("strong",[e._v("修改adb_usb.ini")])]),e._v(" "),_("ol",[_("li",[e._v("关于本机(指Mac系统的关于本机，非手机) --\x3e 系统报告 -> usb  -> 你所连接的device --\x3e 厂商ID或者供应商ID(Vendor ID)")]),e._v(" "),_("li",[e._v("在终端执行如下命令：echo xxxxxx >> ~/.android/adb_usb.ini （“xxxxxx”为厂商ID或者供应商ID(Vendor ID)，有些系统下echo命令并不能正确写入文件，可在~/.android/目录下修改或新建adb_usb.ini添加xxxxxx），重启HBuilderX。")])]),e._v(" "),_("ul",[_("li",[e._v("Android 11部分手机真机运行文件同步失败的问题，请升级HBuilderX 到3.1.19+版本。")])]),e._v(" "),_("h4",{attrs:{id:"zhanyong"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#zhanyong"}},[e._v("#")]),e._v(" 4.1.2 adb占用问题")]),e._v(" "),_("p",[e._v("Android的"),_("code",[e._v("ADB服务")]),e._v("已经被大量软件滥用，除了各种手机助手自带adb，其他如QQ、搜狗输入法、暴风影音、酷狗音乐、阿里旺旺等众多软件都自带"),_("code",[e._v("adb")]),e._v("。")]),e._v(" "),_("p",[e._v("有些工具的"),_("code",[e._v("adb")]),e._v("版本低且独占手机通道，就会导致HBuilderX无法连接手机。")]),e._v(" "),_("ul",[_("li",[e._v("在任务管理器中找到"),_("code",[e._v("adb.exe")]),e._v("相关进程（包括"),_("code",[e._v("kadb.exe")]),e._v("等），在任务管理中右键该进程，打开文件位置，查看该进程是什么软件启动的。")]),e._v(" "),_("li",[e._v("禁止这些软件监听手机插入（一般在该软件的设置中）、禁止自动启动。")]),e._v(" "),_("li",[e._v("有些软件结束adb进程后又会自动启动，所以得将"),_("code",[e._v("adb.exe")]),e._v("文件重命名一下，实在不行卸载了这些流氓软件。")]),e._v(" "),_("li",[e._v("关闭所有手机助手及进程里各种"),_("code",[e._v("adb.exe")]),e._v("（包括"),_("code",[e._v("kadb.exe")]),e._v("等），再试。")])]),e._v(" "),_("p",[e._v("如果你找不到被谁占用，则还可以使用如下方式检测，寻找幕后黑手：")]),e._v(" "),_("ol",[_("li",[e._v("打开命令行窗口")]),e._v(" "),_("li",[e._v("确认adb的启动进程：\n寻找端口是"),_("code",[e._v("5037")]),e._v("的"),_("code",[e._v("tcp连接")]),e._v("，在命令行中输入："),_("code",[e._v("netstat -ano | findstr 5037")])])]),e._v(" "),_("p",[e._v("在输出结果中找到类似下面的一行：\nTCP    127.0.0.1:5037         0.0.0.0:0              "),_("strong",[e._v("LISTENING")]),e._v(" "),_("strong",[e._v("5816")]),e._v(" "),_("em",[e._v("如果内容为空，可能是没有程序在占用adb端口。")])]),e._v(" "),_("p",[e._v("或者使用 netstat -ano | findstr 5037>d:/1.txt 输出到文件中查找。")]),e._v(" "),_("p",[e._v("根据查询结果确认端口为5037的连接被那个进程占用，结果中显示的“5816”表示占用adb端口的进程PID。")]),e._v(" "),_("ol",{attrs:{start:"3"}},[_("li",[e._v("根据进程的PID可以找到具体进程。")])]),e._v(" "),_("p",[e._v("在命令行中输入："),_("code",[e._v("tasklist | findstr 5816")]),e._v("\n在输出结果中找到类似下面的一行：")]),e._v(" "),_("div",{staticClass:"language-shell extra-class"},[_("pre",{pre:!0,attrs:{class:"language-shell"}},[_("code",[e._v("adb.exe                     "),_("span",{pre:!0,attrs:{class:"token number"}},[e._v("5816")]),e._v(" Console                 "),_("span",{pre:!0,attrs:{class:"token number"}},[e._v("0")]),e._v("      "),_("span",{pre:!0,attrs:{class:"token number"}},[e._v("4,440")]),e._v(" K\n")])])]),_("p",[e._v("adb.exe（名称一般不是adb.exe，以adb.exe举例）为启动的adb进程。")]),e._v(" "),_("p",[e._v("或者手工在任务管理器中定位这个进程，打开任务管理器后，进入进程选项卡，如果列表里有PID，直接找；如果列表里没有PID，点菜单查看-选择列，勾上PID。")]),e._v(" "),_("h4",{attrs:{id:"adbver"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#adbver"}},[e._v("#")]),e._v(" 4.1.2 ADB版本问题")]),e._v(" "),_("p",[e._v("如果以上方式仍然不行，还有一种可能是手机对adb的版本有特定要求（遇到一些魅族手机有此问题），此时需要更换HBuilder的adb版本。")]),e._v(" "),_("p",[e._v("HBuilder安装目录下带了多个版本的adb。")]),e._v(" "),_("p",[e._v("替换版本前，将默认版本的adb.exe备份下。然后把其他版的adb.exe拷贝出来替换主目录下的exe。")]),e._v(" "),_("blockquote",[_("p",[e._v("当然也可下载"),_("a",{attrs:{href:"https://developer.android.google.cn/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Android SDK"),_("OutboundLink")],1),e._v("，将其中的adb替换HBuilderX自带的adb。")])]),e._v(" "),_("blockquote",[_("p",[e._v("如果上面的方法还无法解决，菜单【帮助】【查看运行日志】，看下日志中存在什么相关的错误。\n也可到"),_("a",{attrs:{href:"https://ask.dcloud.net.cn/",target:"_blank",rel:"noopener noreferrer"}},[e._v("DCloud论坛"),_("OutboundLink")],1),e._v("发帖。发帖时，详细说明操作系统信息、HBuilderX版本号、手机型号以及手机系统信息，并提供运行日志。")])]),e._v(" "),_("h3",{attrs:{id:"_4-2-检测ios手机"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-检测ios手机"}},[e._v("#")]),e._v(" 4.2 检测iOS手机")]),e._v(" "),_("p",[e._v("iOS设备连接比较简单，电脑安装itunes（或iTools），只要这些软件能连上iOS设备，HBuilderX就能连上。")]),e._v(" "),_("h4",{attrs:{id:"windows-download-itunes"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#windows-download-itunes"}},[e._v("#")]),e._v(" 4.2.1 windows上iTunes注意事项")]),e._v(" "),_("p",[e._v("[Windows 32位 iTunes]"),_("a",{attrs:{href:"https://pc.qq.com/detail/9/detail_609.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("下载地址"),_("OutboundLink")],1),e._v("、"),_("a",{attrs:{href:"https://mydown.yesky.com/pcsoft/445423/versions/",target:"_blank",rel:"noopener noreferrer"}},[e._v("所有版本的iTunes下载地址"),_("OutboundLink")],1)]),e._v(" "),_("p",[e._v("[Windows 64位 iTunes]"),_("a",{attrs:{href:"https://pc.qq.com/detail/3/detail_2683.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("下载地址"),_("OutboundLink")],1),e._v("、"),_("a",{attrs:{href:"https://mydown.yesky.com/pcsoft/33491427/versions/",target:"_blank",rel:"noopener noreferrer"}},[e._v("所有版本的iTunes下载地址"),_("OutboundLink")],1)]),e._v(" "),_("ul",[_("li",[e._v("windows上iTunes请勿从"),_("code",[e._v("微软应用商店")]),e._v("下载；建议从如上地址下载iTunes；如果是第一次安装完iTunes，建议重新启动电脑")]),e._v(" "),_("li",[e._v("如果您的电脑是"),_("code",[e._v("64位")]),e._v(", 且HBuilderX的版本低于3.4.0，请下载"),_("code",[e._v("12.9.4.102")]),e._v("之前的iTunes")]),e._v(" "),_("li",[e._v("如果您的电脑是"),_("code",[e._v("32位")]),e._v("，请下载"),_("code",[e._v("12.9.4.102")]),e._v("之前的iTunes")]),e._v(" "),_("li",[e._v("不要用太老的iTunes版本，但有时iTunes最新版确实会有bug，如果不幸遇到，可以卸载干净后安装次新版")])]),e._v(" "),_("p",[e._v("如果以上方案都无法解决，有可能是因为本地库与iTunes带的库冲突了，\n一般是iTunes库目录（32位系统目录为：C:\\Program Files\\Common Files\\Apple\\Apple Application Support，64位系统目录为：C:\\Program Files (x86)\\Common Files\\Apple\\Apple Application Support）下的dll文件\n和系统库目录（32位系统目录为：C:\\WINDOWS\\system32，64位系统目录为：C:\\Windows\\SysWOW64）下的dll重名，\n可将iTunes库目录下的同名dll文件拷贝到系统库目录下，或者将系统目录下的同名dll文件重命名或删除，然后再重启HBuilder或者重试真机运行。")]),e._v(" "),_("p",[e._v("有时iTunes安装时依赖库会丢失，需要重装iTunes解决问题。")]),e._v(" "),_("h4",{attrs:{id:"_4-2-2-itunes无法检测到手机"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-2-itunes无法检测到手机"}},[e._v("#")]),e._v(" 4.2.2 iTunes无法检测到手机")]),e._v(" "),_("p",[e._v("iTunes无法检测到手机，iTunes弹窗提示："),_("code",[e._v("iTunes 在您的电脑上检测到不兼容的蓝牙软件，可能无法正常运行")]),e._v("。")]),e._v(" "),_("p",[e._v("请禁用或更新某些蓝牙驱动。或参考"),_("a",{attrs:{href:"https://discussionschinese.apple.com/thread/140142495?page=2",target:"_blank",rel:"noopener noreferrer"}},[e._v("Apple 论坛解决方案"),_("OutboundLink")],1)]),e._v(" "),_("h4",{attrs:{id:"mac-ios-simulator"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#mac-ios-simulator"}},[e._v("#")]),e._v(" 4.2.3 Mac上连接iOS模拟器")]),e._v(" "),_("ol",[_("li",[e._v("Xcode必须安装在应用程序（Application）中")]),e._v(" "),_("li",[e._v("首先确认Xcode（版本必须是6.0及以上版本）已安装并能正常启动模拟器")]),e._v(" "),_("li",[e._v("如果仍然无法检测到，则打开Xcode，然后打开Xcode的 "),_("code",[e._v("Preferences --\x3e Locations")]),e._v("，设置该界面中的 "),_("code",[e._v("Command Line Tools")]),e._v(" 项，选择正确的"),_("code",[e._v("Xcode")]),e._v("版本即可")])]),e._v(" "),_("p",[_("img",{attrs:{src:"/images/xcode_ios_simulator.png",alt:""}})]),e._v(" "),_("h2",{attrs:{id:"第5步-运行启动"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#第5步-运行启动"}},[e._v("#")]),e._v(" 第5步 运行启动")]),e._v(" "),_("p",[e._v("HBuilderX的运行界面检测到手机后，可以点击运行。此后会继续进行：编译、安装基座到手机、同步应用代码和资源到基座、启动基座并运行应用。这些步骤仍然可能出错。")]),e._v(" "),_("ol",[_("li",[e._v("编译\n编译报错一般有错误提示，指示说明哪行代码有问题，导致编译报错。\\n\n如果编译报错没有回到代码，而是编译器内部报错了（报错文件指向uni-app cli目录或HBuilderX的插件目录），那么首先检查下是不是升级时编译器插件升级的有问题，可以在菜单工具-插件安装中卸载uni-app编译器插件，重新运行后会自动重现安装插件。如果编译器没有问题，可以在论坛或issues系统给报bug，提供复现项目。")]),e._v(" "),_("li",[e._v("安装基座到手机\n部分手机如小米，在通过adb安装基座时，会在手机端弹出一个带倒计时的询问框，"),_("strong",[e._v("如果没有及时在手机端点同意安装，这个询问框会自动消失并视为拒绝安装")]),e._v("。这点很坑。所以必须注意及时观察手机屏幕的询问框，在倒计时结束前点同意。")]),e._v(" "),_("li",[e._v("同步应用代码和资源到基座\n基座是不包含开发者的代码的。基座被安装到手机后，下一步是同步开发者的代码和资源到手机端。\\n\nAndroid上是HBuilderX通过adb启动基座，然后基座与HBuilderX建立socket连接，通过socket把代码和资源同步到手机端。\\n\n如果基座没有自动启动，就需要手动在手机端点基座App启动。\\n\n如果HBuilderX在电脑端被防火墙拦截，不能与手机建立socket连接，也会导致无法同步资源。\\n\n注意有的情况HBuilderX报错资源同步失败，其实是手机基座安装、启动失败了，手机端没有回传正确的错误给HBuilderX。比如上一步中，小米手机上没有及时点同意安装基座的倒计时确认框。")]),e._v(" "),_("li",[e._v("启动基座并运行应用\n应用代码和资源同步到手机后，会自动启动基座并运行应用。以下情况无法自动启动，需要手动在手机端点基座App。")])]),e._v(" "),_("ul",[_("li",[e._v("window电脑无法自动启动iOS的应用")]),e._v(" "),_("li",[e._v("手机息屏")])]),e._v(" "),_("h2",{attrs:{id:"other"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#other"}},[e._v("#")]),e._v(" 其它问题")]),e._v(" "),_("h4",{attrs:{id:"q1-能检测到手机-但处于置灰状态无法点击"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#q1-能检测到手机-但处于置灰状态无法点击"}},[e._v("#")]),e._v(" Q1: 能检测到手机，但处于置灰状态无法点击")]),e._v(" "),_("p",[e._v("发生此情况一般为检测到手机后，中间因为其他软件连接断开了，需要重新插拔手机或重启HBuilderX。")]),e._v(" "),_("h4",{attrs:{id:"q2-能检测到手机-但点hbuilder的真机运行-安装调试基座失败"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#q2-能检测到手机-但点hbuilder的真机运行-安装调试基座失败"}},[e._v("#")]),e._v(" Q2: 能检测到手机，但点HBuilder的真机运行，安装调试基座失败")]),e._v(" "),_("ol",[_("li",[e._v("部分Android rom如小米有usb安装apk的权限，可能是关闭状态，此时需要在手机管家等设置里寻找usb安装apk的权限，将其打开。")]),e._v(" "),_("li",[e._v("部分Android手机在usb安装apk时，会在手机界面上弹框，如果不能及时点弹框，会因为超时而安装失败。请注意手机屏幕的显示。\n当HBuilder控制台提示"),_("code",[e._v("“安装HBuilder基座App失败，请使用手机助手手动安装xxx\\android_base.apk。”")]),e._v("时，基本都属于这种情况。")]),e._v(" "),_("li",[e._v("iOS版本偶发也会报错。同样需要根据提示手动安装iPhone_base.ipa。安装方式推荐itools，没有itools使用itunes也可以。\n安装完毕后，会在手机上有一个HBuilder的应用。\n以后再点真机运行，就可以把项目部署到手机上，然后手动点击HBuilder应用，就能看到项目的结果。")])]),e._v(" "),_("h4",{attrs:{id:"q3-hbuilder控制台不输出日志问题的解决办法"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#q3-hbuilder控制台不输出日志问题的解决办法"}},[e._v("#")]),e._v(" Q3: HBuilder控制台不输出日志问题的解决办法")]),e._v(" "),_("p",[e._v("参考"),_("a",{attrs:{href:"https://ask.dcloud.net.cn/article/1336",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://ask.dcloud.net.cn/article/1336"),_("OutboundLink")],1)]),e._v(" "),_("h4",{attrs:{id:"q4-android手机真机运行提示应用安装成功-但是其实手机上并没有hbuilder或uni-app-x基座应用"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#q4-android手机真机运行提示应用安装成功-但是其实手机上并没有hbuilder或uni-app-x基座应用"}},[e._v("#")]),e._v(" Q4: Android手机真机运行提示应用安装成功，但是其实手机上并没有HBuilder或uni-app x基座应用")]),e._v(" "),_("ol",[_("li",[e._v("确认USB调试模式是否打开。如果未打开，请打开USB调试模式重新运行真机调试。")]),e._v(" "),_("li",[e._v("如果HBuilder已经检测到手机，可能存在与手机助手冲突的情况，请关闭所有的手机助手重新运行真机调试。")]),e._v(" "),_("li",[e._v("利用手机助手手动安装android_base.apk到手机上，然后重新运行真机调试。")])]),e._v(" "),_("h4",{attrs:{id:"q5-android真机联调报文件操作permission-denied"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#q5-android真机联调报文件操作permission-denied"}},[e._v("#")]),e._v(" Q5: Android真机联调报文件操作Permission denied")]),e._v(" "),_("p",[e._v("请尝试以下方法解决：")]),e._v(" "),_("ol",[_("li",[e._v("拔出数据线")]),e._v(" "),_("li",[e._v("重新"),_("code",[e._v("打开USB调试模式")])]),e._v(" "),_("li",[e._v("重新插上数据线，此时手机上可能需要授权确认，点击确认")]),e._v(" "),_("li",[e._v("重新运行真机调试看看是否还有问题")]),e._v(" "),_("li",[e._v("重启手机，再重新运行真机调试，看看问题是否解决")]),e._v(" "),_("li",[e._v("如果还有问题，重新启动HBuilder，重复1-4步骤，再重新运行真机调试，看看问题是否解决")]),e._v(" "),_("li",[e._v("如果问题仍然没有解决，则重新安装手机驱动：\n1）我的电脑---右键--属性--硬件---设备管理器--删除USB驱动\n2）打开手机助手重新安装驱动; 此时手机上可能需要授权确认，点击确认，然后再重新运行真机调试")]),e._v(" "),_("li",[e._v("如果以上方案均无法解决，则有可能是手机root的时候，把sdcard目录的权限搞错了，导致无法真机运行，此时可以恢复出厂设置，或者重新root，或者刷机解决此问题")])]),e._v(" "),_("h4",{attrs:{id:"q6-android真机联调报-open-dev-hwlog-switch-fail-1-13-permission-denied"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#q6-android真机联调报-open-dev-hwlog-switch-fail-1-13-permission-denied"}},[e._v("#")]),e._v(" Q6: Android真机联调报：open '/dev/hwlog_switch' fail -1, 13. Permission denied")]),e._v(" "),_("p",[e._v("请尝试以下方法解决：")]),e._v(" "),_("ol",[_("li",[e._v("参考 "),_("a",{attrs:{href:"https://ask.dcloud.net.cn/article/1336",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://ask.dcloud.net.cn/article/1336"),_("OutboundLink")],1)]),e._v(" "),_("li",[e._v("拔插数据线重试")]),e._v(" "),_("li",[e._v("重新打开USB调试模式重试")]),e._v(" "),_("li",[e._v("重启手机重试")]),e._v(" "),_("li",[e._v("重新启动HBuilder重试")]),e._v(" "),_("li",[e._v("如果以上方案均无法解决，则有可能是手机root的时候，把sdcard目录的权限搞错了，导致无法真机运行，此时可以恢复出厂设置，或者重新root，或者刷机解决此问题")])]),e._v(" "),_("h4",{attrs:{id:"q7-为什么android手机没有sdcard就不能真机调试"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#q7-为什么android手机没有sdcard就不能真机调试"}},[e._v("#")]),e._v(" Q7: 为什么Android手机没有SDCard就不能真机调试？")]),e._v(" "),_("p",[e._v("Android没有root的手机只有SDCard才有权限。不过此SDCard并不是非得外插一张实体sd卡，是手机里一个叫SDCard的根目录。\n如果是使用Android模拟器，在模拟器里可以配置SDCard是否存在及大小。")]),e._v(" "),_("p",[e._v("此情况已过期，目前正常手机都有SDCard目录。")]),e._v(" "),_("h4",{attrs:{id:"q8-控制台显示手机应用已启动-但手机屏幕上没有出现"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#q8-控制台显示手机应用已启动-但手机屏幕上没有出现"}},[e._v("#")]),e._v(" Q8: 控制台显示手机应用已启动，但手机屏幕上没有出现？")]),e._v(" "),_("p",[e._v("Android手机第一次安装基座应用时，手机端大多有各种杀毒软件要检测一会才会放行，需要等一会。")]),e._v(" "),_("h4",{attrs:{id:"q9-5-app运行后手机端一直在启动画面停留-不停转圈不能进入"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#q9-5-app运行后手机端一直在启动画面停留-不停转圈不能进入"}},[e._v("#")]),e._v(" Q9: 5+App运行后手机端一直在启动画面停留，不停转圈不能进入")]),e._v(" "),_("p",[e._v("这是应用的js代码的问题，启动画面的关闭是可配置的。参考 "),_("a",{attrs:{href:"https://ask.dcloud.net.cn/article/110",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://ask.dcloud.net.cn/article/110"),_("OutboundLink")],1)]),e._v(" "),_("h4",{attrs:{id:"q10-为什么我电脑没有插iphone-但hbuilder检测到ios设备"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#q10-为什么我电脑没有插iphone-但hbuilder检测到ios设备"}},[e._v("#")]),e._v(" Q10: 为什么我电脑没有插iphone，但HBuilder检测到iOS设备？")]),e._v(" "),_("p",[e._v("iTunes支持wifi同步，如果iOS设备启动了wifi同步，电脑端的iTunes就可以检测到，进而HBuilder也可以检测到。")]),e._v(" "),_("h4",{attrs:{id:"q11-真机运行成功启动-但手机端软件启动后显示的不是正在运行的项目。"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#q11-真机运行成功启动-但手机端软件启动后显示的不是正在运行的项目。"}},[e._v("#")]),e._v(" Q11: 真机运行成功启动，但手机端软件启动后显示的不是正在运行的项目。")]),e._v(" "),_("p",[e._v("这种情况是adb连接手机成功，但copy项目文件到手机上失败了。重新运行真机调试。\n或者检查待运行工程的目录名文件名是不是有特殊符号或超长导致Android不识别。")]),e._v(" "),_("h4",{attrs:{id:"q12-真机运行启动后显示hbuilder真机运行-log-界面-synchronous"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#q12-真机运行启动后显示hbuilder真机运行-log-界面-synchronous"}},[e._v("#")]),e._v(" Q12: 真机运行启动后显示HBuilder真机运行（log）界面 {#synchronous}")]),e._v(" "),_("ol",[_("li",[e._v("重新运行真机调试尝试解决问题")]),e._v(" "),_("li",[e._v("Android设备可能存在与手机助手冲突的情况，请关闭所有的手机助手重新运行真机调试")]),e._v(" "),_("li",[e._v("如果步骤2无法解决，请更换别的手机助手，重新运行真机调试尝试解决问题")]),e._v(" "),_("li",[e._v("确认手机上HBuilder应用安装位置，如果手机上有外置sdcard，不要把HBuilder基座App安装在外置sdcard上，如果是安装在外置sdcard上，卸载外置sdcard上的HBuilder基座App，并在设置中将应用的默认安装位置不要设置为外置的sdcard上，或者将应用转移至手机内存或内置sdcard上，并重新运行真机调试")])]),e._v(" "),_("h4",{attrs:{id:"q13-使用genymotion模拟器真机运行-安装apk时报install-failed-cpu-abi-incompatible"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#q13-使用genymotion模拟器真机运行-安装apk时报install-failed-cpu-abi-incompatible"}},[e._v("#")]),e._v(" Q13: 使用genymotion模拟器真机运行，安装apk时报"),_("code",[e._v("INSTALL_FAILED_CPU_ABI_INCOMPATIBLE")])]),e._v(" "),_("p",[e._v("参见"),_("a",{attrs:{href:"https://blog.csdn.net/wjr2012/article/details/16359113",target:"_blank",rel:"noopener noreferrer"}},[e._v("genymotion模拟器报INSTALL_FAILED_CPU_ABI_INCOMPATIBLE的解决办法"),_("OutboundLink")],1),e._v("\n其他模拟器的适配在论坛中搜索即可。")]),e._v(" "),_("h4",{attrs:{id:"q14-如何通过wifi真机运行-不插数据线"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#q14-如何通过wifi真机运行-不插数据线"}},[e._v("#")]),e._v(" Q14: 如何通过wifi真机运行，不插数据线？")]),e._v(" "),_("p",[e._v("参考"),_("a",{attrs:{href:"https://ask.dcloud.net.cn/article/565",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://ask.dcloud.net.cn/article/565"),_("OutboundLink")],1)]),e._v(" "),_("h2",{attrs:{id:"node"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#node"}},[e._v("#")]),e._v(" HBuilderX Node真机运行常见问题")]),e._v(" "),_("p",[e._v("HBuilderX 3.5.3之后的版本，App真机运行 使用Node运行，不再依赖Java。")]),e._v(" "),_("h3",{attrs:{id:"failed-to-sync-resource"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#failed-to-sync-resource"}},[e._v("#")]),e._v(" 6.1 同步资源失败，未得到同步资源的授权，请停止运行后重新运行，并注意手机上的授权提示")]),e._v(" "),_("p",[_("a",{attrs:{href:"https://qiniu-web-assets.dcloud.net.cn/unidoc/zh/app_sync_resource_fail.jpeg",target:"_blank",rel:"noopener noreferrer"}},[_("OutboundLink")],1)]),e._v(" "),_("p",[_("strong",[e._v("如果您遇到以下错误，请先查看基座类型：")])]),e._v(" "),_("ul",[_("li",[e._v("标准基座")]),e._v(" "),_("li",[e._v("HBuilderX 云打包自定义基座")]),e._v(" "),_("li",[e._v("离线SDK Android Studio制作的自定义基座")])]),e._v(" "),_("blockquote",[_("p",[e._v("如果以下解决方法，没有解决问题，请到 "),_("a",{attrs:{href:"https://ask.dcloud.net.cn/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Ask论坛"),_("OutboundLink")],1),e._v("详细说明问题（需要包含操作系统、HBuilderX版本、项目信息、基座信息、手机信息、控制台截图等，详细的信息有助于我们排查问题）")])]),e._v(" "),_("p",[_("strong",[e._v("尝试以下解决方法")])]),e._v(" "),_("ul",[_("li",[e._v("Android手机上，找到应用App，删除，重新运行。")]),e._v(" "),_("li",[e._v("关闭开发者模式，usb调试，重新打开试试。手机USB设置，各个选项尝试一下")]),e._v(" "),_("li",[e._v("如果是"),_("code",[e._v("离线SDK Android Studio制作的自定义基座")]),e._v(", 检查下是否缺少"),_("code",[e._v("implementation 'com.squareup.okhttp3:okhttp:3.12.12'")]),e._v(", "),_("code",[e._v("implementation 'com.squareup.okio:okio:1.15.0'")]),e._v(", 如果缺少请添加它们。")]),e._v(" "),_("li",[e._v("如果是"),_("code",[e._v("离线SDK Android Studio制作的自定义基座")]),e._v(", 可以尝试使用HBuilderX 云打包自定义基座，看下是否正常。")]),e._v(" "),_("li",[e._v("手机系统分身的原因。"),_("a",{attrs:{href:"https://ask.dcloud.net.cn/question/161130",target:"_blank",rel:"noopener noreferrer"}},[e._v("具体详情参考"),_("OutboundLink")],1)]),e._v(" "),_("li",[e._v("如果手机是华为鸿蒙系统，排查下是否是手机自身的原因，换个其它品牌手机试试，如小米、oppo。")]),e._v(" "),_("li",[e._v("更多参考下这个帖子 "),_("a",{attrs:{href:"https://ask.dcloud.net.cn/question/154229",target:"_blank",rel:"noopener noreferrer"}},[e._v("详情"),_("OutboundLink")],1)])]),e._v(" "),_("h3",{attrs:{id:"mumu"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#mumu"}},[e._v("#")]),e._v(" 6.2 连接mumu模拟器，一直卡在正在建立手机连接")]),e._v(" "),_("p",[_("strong",[e._v("遇到mumu模拟器问题，请尝试以下解决方法")])]),e._v(" "),_("ul",[_("li",[e._v("首先，请确定运行基座是标准基座？还是自定义基座？如果标准基座异常，请使用自定义基座。如果自定义基座异常，标准基座正常，请重新制作自定义基座。")]),e._v(" "),_("li",[e._v("升级mumu模拟器试试。mumu模拟器android版本是6.0, 已经很老了。建议使用mumuX模拟器或其他模拟器。")]),e._v(" "),_("li",[e._v("建议使用Android Studio创建的模拟器，Android Studio可以创建各个版本的模拟器，"),_("a",{attrs:{href:"https://developer.android.google.cn/studio/",target:"_blank",rel:"noopener noreferrer"}},[e._v("下载Android Studio"),_("OutboundLink")],1),e._v("。或使用其它模拟器，如夜神模拟器。")]),e._v(" "),_("li",[e._v("运行到Android真机是否正常？如果真机正常，请使用Android真机进行测试。")]),e._v(" "),_("li",[e._v("重试上面的方法后，如果还无法解决，建议到论坛发帖，发帖时，请提供操作系统、HBuilderX版本、控制台错误截图、mumu模拟器信息。如果方便请在Ask帖子上附上QQ，以便我们联系您。"),_("a",{attrs:{href:"https://ask.dcloud.net.cn/explore/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Ask论坛发帖"),_("OutboundLink")],1)])]),e._v(" "),_("h3",{attrs:{id:"clicking-the-run-menu-not-respond"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#clicking-the-run-menu-not-respond"}},[e._v("#")]),e._v(" 6.3 点击运行菜单没有反应")]),e._v(" "),_("p",[e._v("某些情况下，如下图所示，点击菜单没有反应。")]),e._v(" "),_("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://qiniu-web-assets.dcloud.net.cn/unidoc/zh/app_run_menu.jpg",loading:"lazy"}}),e._v(" "),_("ul",[_("li",[e._v("如果替换过HBuilderX安装目录下的Node程序，请还原Node程序或重装HBuilderX。")]),e._v(" "),_("li",[e._v("如果之前"),_("code",[e._v("运行菜单点击响应正常")]),e._v("，"),_("code",[e._v("操作系统环境变量")]),e._v("更改Node变量后出错，请清除操作系统环境变量中配置的Node变量。")]),e._v(" "),_("li",[e._v("如果修改过"),_("code",[e._v("HBuilderX/plugins/launcher")]),e._v("下代码，请点击HBuilderX菜单【工具】【插件安装】，卸载重装App真机运行插件。")]),e._v(" "),_("li",[e._v("HBuilderX菜单【帮助】【查看运行日志】，看下日志中相关错误，根据错误进行解决。")])])])}),[],!1,null,null,null);_.default=a.exports}}]);
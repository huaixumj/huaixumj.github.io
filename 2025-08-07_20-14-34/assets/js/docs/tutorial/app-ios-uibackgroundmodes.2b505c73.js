(window.webpackJsonp=window.webpackJsonp||[]).push([[337],{722:function(t,s,a){"use strict";a.r(s);var n=a(1),r=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[t._v("iOS平台为了减少系统资源消耗，应用默认不支持后台运行，切换到后台会停止运行。比如当应用切换到后台时音乐将暂停播放，下次切换到前台继续播放。如果应用切换到后台继续运行如播放音乐，定位等功能，需要配置支持后台运行的能力。")]),t._v(" "),s("p",[t._v("可支持以下能力：")]),t._v(" "),s("ul",[s("li",[t._v('后台播放音乐，设置值为"audio"')]),t._v(" "),s("li",[t._v('后台获取位置信息（定位），设置值为"location"')])]),t._v(" "),s("h3",{attrs:{id:"设置后台运行能力"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#设置后台运行能力"}},[t._v("#")]),t._v(" 设置后台运行能力")]),t._v(" "),s("p",[s("strong",[t._v("可视化界面配置")]),s("br"),t._v("\n打开项目的manifest.json文件，在 “App常用其它设置” -> “iOS设置” -> “后台运行能力” 项中进行设置：\n"),s("img",{attrs:{src:"/images/backgroundmodes-manifest.png",alt:""}})]),t._v(" "),s("blockquote",[s("p",[t._v("注意："),s("br"),t._v('\n"audio"表示后台播放音乐能力，"location"表示后台定位能力，更多后台能力配置参考苹果官网'),s("a",{attrs:{href:"https://developer.apple.com/documentation/bundleresources/information_property_list/uibackgroundmodes/",target:"_blank",rel:"noopener noreferrer"}},[t._v("UIBackgroundModes文档"),s("OutboundLink")],1),t._v("；"),s("br"),t._v('\n多个后台能力使用 "," 分割；'),s("br"),t._v("\n如果可视化界面无法编辑，请切换到“源码视图”删除"),s("code",[t._v("UIBackgroundModes")]),t._v("节点数据重新操作。")])]),t._v(" "),s("p",[s("strong",[t._v("源码视图配置")]),s("br"),t._v("\n打开项目的manifest.json文件，切换到“源码视图”，根据项目类型进行配置")]),t._v(" "),s("ul",[s("li",[t._v("uni-app项目"),s("br"),t._v('\n在 "app-plus"->"distribute"->"ios" 节点的 UIBackgroundModes 属性配置后台运行能力，示例如下：')])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("  "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"app-plus"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"distribute"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"ios"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"UIBackgroundModes"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"audio,location"')]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//...")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//...")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//...")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//...")]),t._v("\n")])])]),s("ul",[s("li",[t._v("5+App/Wap2App项目"),s("br"),t._v('\n在 "plus"->"distribute"->"ios" 节点的 UIBackgroundModes 属性配置后台运行能力，示例如下：')])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("  "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"plus"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"distribute"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"ios"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"UIBackgroundModes"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"audio,location"')]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//...")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//...")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//...")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//...")]),t._v("\n")])])]),s("blockquote",[s("p",[t._v("注：为了向下兼容，HBuilderX源码视图配置时"),s("code",[t._v("UIBackgroundModes")]),t._v('属性值支持字符串数组，上面示例中的值也可以这么配置["audio","location"]')])]),t._v(" "),s("p",[s("strong",[t._v("保存后提交App云端打包生效")])]),t._v(" "),s("h4",{attrs:{id:"注意事项"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#注意事项"}},[t._v("#")]),t._v(" 注意事项")]),t._v(" "),s("ul",[s("li",[t._v("配置后需提交云端打包后才能生效，真机运行时请使用"),s("a",{attrs:{href:"https://ask.dcloud.net.cn/article/35115",target:"_blank",rel:"noopener noreferrer"}},[t._v("自定义调试基座"),s("OutboundLink")],1),t._v("\n真机运行不支持此功能，需要提交到打App云端打包才生效")]),t._v(" "),s("li",[t._v("应用切换到后台运行时，需要避免调用同步5+ API（调用直接返回数据的API），在后台运行时此类API将无法同步返回数据")])])])}),[],!1,null,null,null);s.default=r.exports}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[314],{699:function(a,t,s){"use strict";s.r(t);var r=s(1),e=Object(r.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h4",{attrs:{id:"务必确保将hbulider-x升级到3-2-15-版本。离线打包需要将离线打包sdk升级到3-2-15-版本"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#务必确保将hbulider-x升级到3-2-15-版本。离线打包需要将离线打包sdk升级到3-2-15-版本"}},[a._v("#")]),a._v(" 务必确保将HBulider X升级到"),t("code",[a._v("3.2.15+")]),a._v("版本。离线打包需要将离线打包SDK升级到"),t("code",[a._v("3.2.15+")]),a._v("版本")]),a._v(" "),t("p",[a._v("App提交云端打包时请务必勾选“GooglePlay(AAB)”渠道")]),a._v(" "),t("p",[t("img",{attrs:{src:"/images/channel.png",alt:""}})]),a._v(" "),t("p",[a._v("Google Play上架审核要求比较严格，应用中不能存在以下行为：")]),a._v(" "),t("ul",[t("li",[a._v("不能直接下载apk方式安装应用，需引导用户到Google Play安装")]),a._v(" "),t("li",[a._v("不能存在动态加载代码行为")])]),a._v(" "),t("p",[a._v("uni-app中部分功能模块不符合Google Play审核要求，请仔细阅读下面章节。")]),a._v(" "),t("h3",{attrs:{id:"必须适配android11"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#必须适配android11"}},[a._v("#")]),a._v(" 必须适配Android11")]),a._v(" "),t("p",[a._v("“App常用其它设置”中需要将targetSdkVersion设置值大于等于30")]),a._v(" "),t("p",[t("img",{attrs:{src:"/images/targetsdkversion.png",alt:""}})]),a._v(" "),t("p",[t("strong",[a._v("注意：务必在Android11设备上进行测试，确保应用所有功能可以正常运行")])]),a._v(" "),t("h3",{attrs:{id:"不能包含安装应用权限"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#不能包含安装应用权限"}},[a._v("#")]),a._v(" 不能包含安装应用权限")]),a._v(" "),t("p",[a._v("在App权限配置中不要勾选 android.permission.INSTALL_PACKAGES、android.permission.REQUEST_INSTALL_PACKAGES 权限")]),a._v(" "),t("p",[t("img",{attrs:{src:"/images/permission-install.png",alt:""}})]),a._v(" "),t("h4",{attrs:{id:"离线打包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#离线打包"}},[a._v("#")]),a._v(" 离线打包:")]),a._v(" "),t("ol",[t("li",[t("p",[a._v("更新SDK3.2.15+版本")])]),a._v(" "),t("li",[t("p",[a._v("请查看原生项目中的AndroidManifest.xml。如果包含以下权限请手动删除：")])])]),a._v(" "),t("div",{staticClass:"language-html extra-class"},[t("pre",{pre:!0,attrs:{class:"language-html"}},[t("code",[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("uses-permission")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[t("span",{pre:!0,attrs:{class:"token namespace"}},[a._v("android:")]),a._v("name")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("android.permission.INSTALL_PACKAGES"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("/>")])]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("uses-permission")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[t("span",{pre:!0,attrs:{class:"token namespace"}},[a._v("android:")]),a._v("name")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("android.permission.REQUEST_INSTALL_PACKAGES"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("/>")])]),a._v("\n")])])]),t("p",[t("strong",[a._v("注意：如果使用了uni原生插件，可能会添加安装应用权限，请联系uni原生插件作者确认")])]),a._v(" "),t("h3",{attrs:{id:"不要使用qq登录、qq分享模块"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#不要使用qq登录、qq分享模块"}},[a._v("#")]),a._v(" 不要使用QQ登录、QQ分享模块")]),a._v(" "),t("p",[a._v("使用QQ登录、分享功能时，如果当前设备上没有安装QQ应用时，会引导用户下载安装，不符合Google Play的审核要求，因此提交到Google Play时不要勾选QQ登录及QQ分享模块")]),a._v(" "),t("p",[t("img",{attrs:{src:"/images/qq.png",alt:""}})]),a._v(" "),t("h4",{attrs:{id:"离线打包-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#离线打包-2"}},[a._v("#")]),a._v(" 离线打包:")]),a._v(" "),t("p",[a._v("请不要集成qq_mta-sdk-xxx.jar，qq_sdk_vxxx.jar等SDK。如果有请删除")]),a._v(" "),t("h3",{attrs:{id:"不要使用国内增强广告sdk"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#不要使用国内增强广告sdk"}},[a._v("#")]),a._v(" 不要使用国内增强广告SDK")]),a._v(" "),t("p",[a._v("uni-ad国内增强广告（如穿山甲、优量汇、快手等SDK）显示的广告落地页可能会引导用户下载安装apk，不符合Google Play的审核要求，因此提交到Google Play时不要勾选增强广告SDK")]),a._v(" "),t("p",[t("img",{attrs:{src:"/images/ad.png",alt:""}})]),a._v(" "),t("p",[t("strong",[a._v("注意：uni-ad 广告基础功能不受影响")])]),a._v(" "),t("h4",{attrs:{id:"离线打包-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#离线打包-3"}},[a._v("#")]),a._v(" 离线打包:")]),a._v(" "),t("p",[a._v("请不要集成国内增强广告相关依赖库 ks_adsdk-ad.aar、windAd.aar、GDTSDK.unionNormal.aar,open_ad_sdk.aar,torch-adcore-xx.aar。如有请删除")]),a._v(" "),t("h3",{attrs:{id:"不要使用x5内核"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#不要使用x5内核"}},[a._v("#")]),a._v(" 不要使用X5内核")]),a._v(" "),t("p",[a._v("腾讯TBS（X5）内核在Android平台解决了很多适配问题（详情可参考："),t("a",{attrs:{href:"https://ask.dcloud.net.cn/article/36806",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://ask.dcloud.net.cn/article/36806"),t("OutboundLink")],1),a._v("），但它使用了动态热更新技术，不符合Google Play的审核要求，因此提交Google Play时不要勾选使用“Android X5 Webview(腾讯TBS)”模块")]),a._v(" "),t("p",[t("img",{attrs:{src:"/images/x5.png",alt:""}})]),a._v(" "),t("h4",{attrs:{id:"离线打包-4"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#离线打包-4"}},[a._v("#")]),a._v(" 离线打包:")]),a._v(" "),t("p",[a._v("请不要集成X5相依赖库webview-x5-release.aar，如有请删除")]),a._v(" "),t("h3",{attrs:{id:"其它相关问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#其它相关问题"}},[a._v("#")]),a._v(" 其它相关问题")]),a._v(" "),t("ul",[t("li",[a._v("Android App Bundle(AAB)格式相关说明："),t("a",{attrs:{href:"https://ask.dcloud.net.cn/article/39052",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://ask.dcloud.net.cn/article/39052"),t("OutboundLink")],1)])])])}),[],!1,null,null,null);t.default=e.exports}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[434],{831:function(t,a,s){"use strict";s.r(a);var n=s(1),e=Object(n.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"页面"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#页面"}},[t._v("#")]),t._v(" 页面")]),t._v(" "),a("h2",{attrs:{id:"页面简介"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#页面简介"}},[t._v("#")]),t._v(" 页面简介")]),t._v(" "),a("p",[t._v("uni-app项目中，一个页面就是一个符合"),a("code",[t._v("Vue SFC规范")]),t._v("的 vue 文件。")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("在 uni-app js 引擎版中，后缀名是"),a("code",[t._v(".vue")]),t._v("文件或"),a("code",[t._v(".nvue")]),t._v("文件。\n这些页面均全平台支持，差异在于当 uni-app 发行到App平台时，"),a("code",[t._v(".vue")]),t._v("文件会使用webview进行渲染，"),a("code",[t._v(".nvue")]),t._v("会使用原生进行渲染，详见："),a("a",{attrs:{href:"/tutorial/nvue-outline"}},[t._v("nvue原生渲染")]),t._v("。")]),t._v(" "),a("p",[t._v("一个页面可以同时存在vue和nvue，在"),a("RouterLink",{attrs:{to:"/collocation/pages.html"}},[t._v("pages.json")]),t._v("的路由注册中不包含页面文件名后缀，同一个页面可以对应2个文件名。重名时优先级如下：")],1),t._v(" "),a("ul",[a("li",[t._v("在非app平台，先使用vue，忽略nvue")]),t._v(" "),a("li",[t._v("在app平台，使用nvue，忽略vue")])])]),t._v(" "),a("li",[a("p",[t._v("在 uni-app x 中，后缀名是"),a("code",[t._v(".uvue")]),t._v("文件")]),t._v(" "),a("p",[t._v("uni-app x 中没有js引擎和webview，不支持和vue页面并存。")]),t._v(" "),a("p",[t._v("uni-app x 在app-android上，每个页面都是一个全屏activity，不支持透明。")])])]),t._v(" "),a("h2",{attrs:{id:"页面管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#页面管理"}},[t._v("#")]),t._v(" 页面管理")]),t._v(" "),a("h3",{attrs:{id:"新建页面"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#新建页面"}},[t._v("#")]),t._v(" 新建页面")]),t._v(" "),a("p",[a("code",[t._v("uni-app")]),t._v("中的页面，默认保存在工程根目录下的"),a("code",[t._v("pages")]),t._v("目录下。")]),t._v(" "),a("p",[t._v("每次新建页面，均需在"),a("code",[t._v("pages.json")]),t._v("中配置"),a("code",[t._v("pages")]),t._v("列表；未在"),a("code",[t._v("pages.json -> pages")]),t._v(" 中注册的页面，"),a("code",[t._v("uni-app")]),t._v("会在编译阶段进行忽略。pages.json的完整配置参考："),a("RouterLink",{attrs:{to:"/collocation/pages.html"}},[t._v("页面配置")]),t._v("。")],1),t._v(" "),a("p",[t._v("通过HBuilderX开发 "),a("code",[t._v("uni-app")]),t._v(" 项目时，在 "),a("code",[t._v("uni-app")]),t._v(" 项目上右键“新建页面”，HBuilderX会自动在"),a("code",[t._v("pages.json")]),t._v("中完成页面注册，开发更方便。")]),t._v(" "),a("p",[t._v("同时，HBuilderX 还内置了常用的页面模板（如图文列表、商品列表等），选择这些模板，可以大幅提升你的开发效率。")]),t._v(" "),a("div",[a("img",{staticStyle:{"max-width":"450px"},attrs:{src:"https://qiniu-web-assets.dcloud.net.cn/unidoc/zh/pages-add-02.png",loading:"lazy"}})]),t._v(" "),a("p",[t._v("新建页面时，可以选择"),a("code",[t._v("是否创建同名目录")]),t._v("。创建目录的意义在于：")]),t._v(" "),a("ul",[a("li",[t._v("如果你的页面较复杂，需要拆分多个附属的js、css、组件等文件，则使用目录归纳比较合适。")]),t._v(" "),a("li",[t._v("如果只有一个页面文件，大可不必多放一层目录。")])]),t._v(" "),a("h3",{attrs:{id:"删除页面"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#删除页面"}},[t._v("#")]),t._v(" 删除页面")]),t._v(" "),a("p",[t._v("删除页面时，需做两件工作：")]),t._v(" "),a("ul",[a("li",[t._v("删除"),a("code",[t._v(".vue")]),t._v("文件、"),a("code",[t._v(".nvue")]),t._v("、"),a("code",[t._v(".uvue")]),t._v("文件")]),t._v(" "),a("li",[t._v("删除"),a("code",[t._v("pages.json -> pages")]),t._v("列表项中的配置 （如使用HBuilderX删除页面，会在状态栏提醒删除pages.json对应内容，点击后会打开pages.json并定位到相关配置项）")])]),t._v(" "),a("h3",{attrs:{id:"页面改名"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#页面改名"}},[t._v("#")]),t._v(" 页面改名")]),t._v(" "),a("p",[t._v("操作和删除页面同理，依次修改文件和 "),a("code",[t._v("pages.json")]),t._v("。")]),t._v(" "),a("h3",{attrs:{id:"pages-json"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pages-json"}},[t._v("#")]),t._v(" pages.json")]),t._v(" "),a("p",[t._v("pages.json是工程的页面管理配置文件，包括：页面路由注册、页面参数配置（原生标题栏、下拉刷新...）、首页tabbar等众多功能。")]),t._v(" "),a("p",[t._v("其篇幅较长，另见 "),a("RouterLink",{attrs:{to:"/collocation/pages.html"}},[t._v("pages.json")])],1),t._v(" "),a("h3",{attrs:{id:"设置应用首页"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设置应用首页"}},[t._v("#")]),t._v(" 设置应用首页")]),t._v(" "),a("p",[a("code",[t._v("pages.json -> pages")]),t._v("配置项中的第一个页面，作为当前工程的首页（启动页）。")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"pages"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"path"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"pages/index/index"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//名字叫不叫index无所谓，位置在第一个，就是首页")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"style"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"navigationBarTitleText"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"首页"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//页面标题")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"path"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"pages/my"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"style"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"navigationBarTitleText"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"我的"')]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"页面内容构成"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#页面内容构成"}},[t._v("#")]),t._v(" 页面内容构成")]),t._v(" "),a("p",[t._v("uni-app 页面基于 vue 规范。一个页面内，有3个根节点标签：")]),t._v(" "),a("ul",[a("li",[t._v("模板组件区 "),a("code",[t._v("<template>")])]),t._v(" "),a("li",[t._v("脚本区 "),a("code",[t._v("<script>")])]),t._v(" "),a("li",[t._v("样式区 "),a("code",[t._v("<style>")])])]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("template")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("view")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("content"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("button")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("@click")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("buttonClick"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("{{title}}"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("button")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("view")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("template")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token script"}},[a("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("data")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("title")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Hello world"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 定义绑定在页面上的data数据")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onLoad")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 页面启动的生命周期，这里编写页面加载时的逻辑")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("methods")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("buttonClick")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t\tconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"按钮被点了"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("style")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token style"}},[a("span",{pre:!0,attrs:{class:"token language-css"}},[t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".content")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("width")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 750rpx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("background-color")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" white"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("style")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("h3",{attrs:{id:"template模板区"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#template模板区"}},[t._v("#")]),t._v(" template模板区")]),t._v(" "),a("p",[t._v("template中文名为"),a("code",[t._v("模板")]),t._v("，它类似html的标签。但有2个区别：")]),t._v(" "),a("ol",[a("li",[t._v("html中 "),a("code",[t._v("script")]),t._v(" 和 "),a("code",[t._v("style")]),t._v(" 是 html 的二级节点。但在 vue 文件中，"),a("code",[t._v("template")]),t._v("、"),a("code",[t._v("script")]),t._v("、"),a("code",[t._v("style")]),t._v(" 这3个是平级关系。")]),t._v(" "),a("li",[t._v("html 中写的是 web 标签，但 vue 的 "),a("code",[t._v("template")]),t._v(" 中写的全都是 vue 组件，每个组件支持属性、事件、 vue 指令，还可以绑定 vue 的 data 数据。")])]),t._v(" "),a("p",[t._v("在vue2中，"),a("code",[t._v("template")]),t._v(" 的二级节点只能有一个节点，一般是在一个根 "),a("code",[t._v("view")]),t._v(" 下继续写页面组件（如上示例代码）。")]),t._v(" "),a("p",[t._v("但在vue3中，template可以有多个二级节点，省去一个层级，如下：")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("template")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("view")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("text")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("标题"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("text")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("view")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("scroll-view")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("scroll-view")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("template")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("p",[t._v("可以在 "),a("code",[t._v("manifest")]),t._v(" 中切换使用 Vue2 还是 Vue3。")]),t._v(" "),a("p",[t._v("注意："),a("code",[t._v("uni-app x")]),t._v(" 中只支持 Vue3。")]),t._v(" "),a("h3",{attrs:{id:"script-脚本区"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#script-脚本区"}},[t._v("#")]),t._v(" script 脚本区")]),t._v(" "),a("p",[t._v("script中编写脚本，可以通过lang属性指定脚本语言。")]),t._v(" "),a("ul",[a("li",[t._v("在vue和nvue中，默认是js，可以指定ts。")]),t._v(" "),a("li",[t._v("在uvue中，仅支持uts，不管script的lang属性写成什么，都按uts编译。")])]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("lang")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("ts"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token script"}},[a("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("p",[t._v("在vue的选项式（option）规范中，script下包含 "),a("code",[t._v("export default {}")]),t._v("。除了选项式，还有 "),a("RouterLink",{attrs:{to:"/tutorial/vue3-composition-api.html"}},[t._v("组合式")]),t._v(" 写法。")],1),t._v(" "),a("p",[t._v("页面级的代码大多写在 "),a("code",[t._v("export default {}")]),t._v(" 中。写在里面的代码，会随着页面关闭而关闭。")]),t._v(" "),a("h4",{attrs:{id:"export-default-外的代码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#export-default-外的代码"}},[t._v("#")]),t._v(" "),a("code",[t._v("export default")]),t._v(" 外的代码")]),t._v(" "),a("p",[t._v("写在 "),a("code",[t._v("export default {}")]),t._v(" 外面的代码，一般有几种情况：")]),t._v(" "),a("ol",[a("li",[t._v("引入第三方 js/ts 模块")]),t._v(" "),a("li",[t._v("引入非 easycom 的组件（一般组件推荐使用"),a("RouterLink",{attrs:{to:"/collocation/pages.html#easycom"}},[t._v("easycom")]),t._v("，无需导入注册）")],1),t._v(" "),a("li",[t._v("在 ts/uts 中，对 data 进行类型定义")]),t._v(" "),a("li",[t._v("定义作用域更大的变量")])]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("lang")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("ts"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token script"}},[a("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("TAB_OFFSET")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 外层静态变量不会跟随页面关闭而回收")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" charts "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'charts.ts'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 导入外部js/ts模块")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" swiperPage "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'swiper-page.vue'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//导入非easycom的组件")]),t._v("\n\ttype GroupType "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("id")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" number"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("title")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" string\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在ts中，为下面data数据的 groupList 定义类型")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("components")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t    swiperPage\n\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 注册非easycom组件")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("data")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("groupList")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n\t\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("title")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"第一组"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("title")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"第二组"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" GroupType"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 为数据groupList定义ts类型")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onLoad")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("methods")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("p",[t._v("开发者应谨慎编写 "),a("code",[t._v("export default {}")]),t._v(" 外面的代码，这里的代码有2个注意事项：")]),t._v(" "),a("ol",[a("li",[t._v("影响应用性能。这部分代码在应用启动时执行，而不是页面加载。如果这里的代码写的太复杂，会影响应用启动速度，占用更多内存。")]),t._v(" "),a("li",[t._v("不跟随组件、页面关闭而回收。在外层的静态变量不会跟随页面关闭而回收。如果必要你需要手动处理。比如 "),a("code",[t._v("beforeDestroy")]),t._v(" 或 "),a("code",[t._v("destroyed")]),t._v(" 生命周期进行处理。")])]),t._v(" "),a("h4",{attrs:{id:"export-default-里的代码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#export-default-里的代码"}},[t._v("#")]),t._v(" export default 里的代码")]),t._v(" "),a("p",[a("code",[t._v("export default {}")]),t._v(" 里的内容，是页面的主要逻辑代码。包括几部分：")]),t._v(" "),a("ol",[a("li",[t._v("data：template模板中需要使用的数据。具体 "),a("RouterLink",{attrs:{to:"/tutorial/vue-basics.html#data"}},[t._v("另见")])],1),t._v(" "),a("li",[t._v("页面生命周期：如页面加载、隐藏、关闭，具体 "),a("a",{attrs:{href:"#lifecycle"}},[t._v("见下")])]),t._v(" "),a("li",[t._v("methods方法，如按钮点击、屏幕滚动")])]),t._v(" "),a("p",[t._v("如下页面代码的逻辑是：")]),t._v(" "),a("ol",[a("li",[t._v("在data中定义了"),a("code",[t._v("title")]),t._v('，初始值是"点我"')]),t._v(" "),a("li",[t._v("在页面中放置了一个button组件，按钮文字区使用"),a("code",[t._v("{{}}")]),t._v("模板写法，里面写"),a("code",[t._v("title")]),t._v("，把data里的"),a("code",[t._v("title")]),t._v('绑定到按钮的文字区，即按钮的初始文字是"点我"')]),t._v(" "),a("li",[t._v("按钮的点击事件"),a("code",[t._v("@click")]),t._v("，指向了methods里的一个方法"),a("code",[t._v("buttonClick")]),t._v("，点击按钮即触发这个方法的执行")]),t._v(" "),a("li",[t._v("buttonClick方法里通过"),a("code",[t._v("this.title")]),t._v('的方式，访问data数据，并重新赋值为"被点了"。由于vue中data和界面是双向绑定，修改data中的'),a("code",[t._v("title")]),t._v("后，因为按钮文字绑定了"),a("code",[t._v("title")]),t._v("，会自动更新按钮的文字。")])]),t._v(" "),a("p",[t._v('整体效果就是，刚开始按钮文字是"点我"，点一下后按钮文字变成了"被点了"')]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("template")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("view")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("button")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("@click")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("buttonClick"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("{{title}}"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("button")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("view")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("template")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token script"}},[a("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("data")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("title")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"点我"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 定义绑定在页面上的data数据")]),t._v("\n\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 多个data在这里继续定义。逗号分隔")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onLoad")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 页面启动的生命周期，这里编写页面加载时的逻辑")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 多个页面生命周期监听，在这里继续写。逗号分隔")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("methods")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("buttonClick")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("title "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"被点了"')]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 多个方法，在这里继续写。逗号分隔")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("p",[t._v("本章节为页面代码介绍，并非vue教程，了解data数据需"),a("RouterLink",{attrs:{to:"/tutorial/vue-basics.html#data"}},[t._v("详见")])],1),t._v(" "),a("h3",{attrs:{id:"style样式区"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#style样式区"}},[t._v("#")]),t._v(" style样式区")]),t._v(" "),a("p",[t._v("style的写法与web的css基本相同。")]),t._v(" "),a("p",[t._v("如果页面是nvue或uvue，使用原生渲染而不是webview渲染，那么它们支持的css是有限的。")]),t._v(" "),a("p",[t._v("详见"),a("RouterLink",{attrs:{to:"/tutorial/syntax-css.html"}},[t._v("css文档")])],1),t._v(" "),a("h2",{attrs:{id:"lifecycle"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#lifecycle"}},[t._v("#")]),t._v(" 页面生命周期")]),t._v(" "),a("p",[a("code",[t._v("uni-app")]),t._v(" 页面除支持 Vue 组件生命周期外还支持下方页面生命周期函数，当以组合式 API 使用时，在 Vue2 和 Vue3 中存在一定区别，请分别参考："),a("RouterLink",{attrs:{to:"/tutorial/vue-composition-api.html"}},[t._v("Vue2 组合式 API 使用文档")]),t._v(" 和 "),a("RouterLink",{attrs:{to:"/tutorial/vue3-composition-api.html"}},[t._v("Vue3 组合式 API 使用文档")]),t._v("。")],1),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("函数名")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("说明")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("平台差异说明")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("最低版本")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("onInit")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("监听页面初始化，其参数同 onLoad 参数，为上个页面传递的数据，参数类型为 Object（用于页面传参），触发时机早于 onLoad")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("百度小程序")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("3.1.0+")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("onLoad")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("监听页面加载，该钩子被调用时，响应式数据、计算属性、方法、侦听器、props、slots 已设置完成，其参数为上个页面传递的数据，参数类型为 Object（用于页面传参），参考"),a("a",{attrs:{href:"/api/router#navigateto"}},[t._v("示例")]),t._v("。")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}}),t._v(" "),a("td",{staticStyle:{"text-align":"left"}})]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("onShow")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("监听页面显示，页面每次出现在屏幕上都触发，包括从下级页面点返回露出当前页面")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}}),t._v(" "),a("td",{staticStyle:{"text-align":"left"}})]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("onReady")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("监听页面初次渲染完成，此时组件已挂载完成，DOM 树($el)已可用，注意如果渲染速度快，会在页面进入动画完成前触发")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}}),t._v(" "),a("td",{staticStyle:{"text-align":"left"}})]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("onHide")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("监听页面隐藏")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}}),t._v(" "),a("td",{staticStyle:{"text-align":"left"}})]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("onUnload")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("监听页面卸载")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}}),t._v(" "),a("td",{staticStyle:{"text-align":"left"}})]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("onResize")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("监听窗口尺寸变化")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("App、微信小程序、快手小程序")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}})]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("onPullDownRefresh")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("监听用户下拉动作，一般用于下拉刷新，参考"),a("RouterLink",{attrs:{to:"/api/ui/pulldown.html"}},[t._v("示例")])],1),t._v(" "),a("td",{staticStyle:{"text-align":"left"}}),t._v(" "),a("td",{staticStyle:{"text-align":"left"}})]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("onReachBottom")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("页面滚动到底部的事件（不是scroll-view滚到底），常用于下拉下一页数据。具体见下方注意事项")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}}),t._v(" "),a("td",{staticStyle:{"text-align":"left"}})]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("onTabItemTap")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("点击 tab 时触发，参数为Object，具体见下方注意事项")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("微信小程序、QQ小程序、支付宝小程序、百度小程序、H5、App、快手小程序、京东小程序")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}})]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("onShareAppMessage")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("用户点击右上角分享")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("微信小程序、QQ小程序、支付宝小程序、抖音小程序、飞书小程序、快手小程序、京东小程序")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}})]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("onPageScroll")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("监听页面滚动，参数为Object")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("nvue不支持")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}})]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("onNavigationBarButtonTap")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("监听原生标题栏按钮点击事件，参数为Object")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("App、H5")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}})]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("onBackPress")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("监听页面返回，返回 event = {from:backbutton、 navigateBack} ，backbutton 表示来源是左上角返回按钮或 android 返回键；navigateBack表示来源是 uni.navigateBack；"),a("a",{attrs:{href:"#onbackpress"}},[t._v("详见")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("app、H5、支付宝小程序")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}})]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("onNavigationBarSearchInputChanged")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("监听原生标题栏搜索输入框输入内容变化事件")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("App、H5")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("1.6.0")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("onNavigationBarSearchInputConfirmed")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("监听原生标题栏搜索输入框搜索事件，用户点击软键盘上的“搜索”按钮时触发。")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("App、H5")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("1.6.0")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("onNavigationBarSearchInputClicked")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("监听原生标题栏搜索输入框点击事件（pages.json 中的 searchInput 配置 disabled 为 true 时才会触发）")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("App、H5")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("1.6.0")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("onShareTimeline")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("监听用户点击右上角转发到朋友圈")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("微信小程序")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("2.8.1+")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("onAddToFavorites")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("监听用户点击右上角收藏")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("微信小程序、QQ小程序")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("2.8.1+")])])])]),t._v(" "),a("h2",{attrs:{id:"vue2-lifecycle-flow"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue2-lifecycle-flow"}},[t._v("#")]),t._v(" Vue2 页面及组件生命周期流程图")]),t._v(" "),a("p",[a("img",{staticClass:"zooming",attrs:{src:"/images/uni-app-lifecycle-vue2.jpg",alt:"",width:"1000",margin:"auto"}})]),t._v(" "),a("h2",{attrs:{id:"vue3-lifecycle-flow"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue3-lifecycle-flow"}},[t._v("#")]),t._v(" Vue3 页面及组件生命周期流程图")]),t._v(" "),a("p",[a("img",{staticClass:"zooming",attrs:{src:"/images/uni-app-lifecycle-vue3.jpg",alt:"",width:"1000",margin:"auto"}})]),t._v(" "),a("h3",{attrs:{id:"timeline"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#timeline"}},[t._v("#")]),t._v(" 页面加载时序介绍")]),t._v(" "),a("p",[t._v("接下来我们介绍onLoad、onReady、onShow的先后关系，页面加载的详细流程。")]),t._v(" "),a("ol",[a("li",[t._v("uni-app框架，首先根据pages.json的配置，创建页面")])]),t._v(" "),a("p",[t._v("所以原生导航栏是最快显示的。页面背景色也应该在这里配置。")]),t._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[t._v("根据页面template里的组件，创建dom。")])]),t._v(" "),a("p",[t._v("这里的dom创建仅包含第一批处理的静态dom。对于通过js/uts更新data然后通过v-for再创建的列表数据，不在第一批处理。")]),t._v(" "),a("p",[t._v("要注意一个页面静态dom元素过多，会影响页面加载速度。在uni-app x Android版本上，可能会阻碍页面进入的转场动画。\n因为此时，页面转场动画还没有启动。")]),t._v(" "),a("ol",{attrs:{start:"3"}},[a("li",[t._v("触发onLoad")])]),t._v(" "),a("p",[t._v("此时页面还未显示，没有开始进入的转场动画，页面dom还不存在。")]),t._v(" "),a("p",[t._v("所以这里不能直接操作dom（可以修改data，因为vue框架会等待dom准备后再更新界面）；在 app-uvue 中获取当前的activity拿到的是老页面的activity，只能通过页面栈获取activity。")]),t._v(" "),a("p",[t._v("onLoad比较适合的操作是：接受上页的参数，联网取数据，更新data。")]),t._v(" "),a("p",[t._v("手机都是多核的，uni.request或云开发联网，在子线程运行，不会干扰UI线程的入场动画，并行处理可以更快的拿到数据、渲染界面。")]),t._v(" "),a("p",[t._v("但onLoad里不适合进行大量同步耗时运算，因为此时转场动画还没开始。")]),t._v(" "),a("p",[t._v("尤其uni-app x 在 Android上，onLoad里的代码（除了联网和加载图片）默认是在UI线程运行的，大量同步耗时计算很容易卡住页面动画不启动。除非开发者显式指定在其他线程运行。")]),t._v(" "),a("ol",{attrs:{start:"4"}},[a("li",[t._v("转场动画开始")])]),t._v(" "),a("p",[t._v("新页面开始进入的转场动画，动画默认耗时300ms，可以在路由API中调节时长。")]),t._v(" "),a("ol",{attrs:{start:"5"}},[a("li",[t._v("页面onReady")])]),t._v(" "),a("p",[t._v("第2步创建dom是虚拟dom，dom创建后需要经历一段时间，UI层才能完成了页面上真实元素的创建，即触发了onReady。")]),t._v(" "),a("p",[t._v("onReady后，页面元素就可以自由操作了，比如ref获取节点。同时首批界面也渲染了。")]),t._v(" "),a("p",[t._v("注意：onReady和转场动画开始、结束之间，没有必然的先后顺序，完全取决于dom的数量和复杂度。")]),t._v(" "),a("p",[t._v("如果元素排版和渲染够快，转场动画刚开始就渲染好了；")]),t._v(" "),a("p",[t._v("大多情况下，转场动画走几格就看到了首批渲染内容；")]),t._v(" "),a("p",[t._v("如果元素排版和渲染过慢，转场动画结束都没有内容，就会造成白屏。")]),t._v(" "),a("p",[t._v("联网进程从onLoad起就在异步获取数据更新data，如果服务器速度够快，第二批数据也可能在转场动画结束前渲染。")]),t._v(" "),a("ol",{attrs:{start:"6"}},[a("li",[t._v("转场动画结束")])]),t._v(" "),a("p",[t._v("再次强调，5和6的先后顺序不一定，取决于首批dom渲染的速度。")]),t._v(" "),a("h3",{attrs:{id:"pagefaq"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pagefaq"}},[t._v("#")]),t._v(" 页面加载常见问题")]),t._v(" "),a("p",[t._v("了解了页面加载时序原理，我们就知道如何避免页面加载常见的问题：")]),t._v(" "),a("ul",[a("li",[t._v("优化白屏的方法：")])]),t._v(" "),a("ol",[a("li",[t._v("页面dom太多，注意有的组件写的不好，会拖累整体页面。uni-app x 里减少dom数量的策略，"),a("a",{attrs:{href:"https://doc.dcloud.net.cn/uni-app-x/performance.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("详见"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("联网不要在onReady里，那样太慢了，在onLoad里早点联网")]),t._v(" "),a("li",[t._v("在pages.json里配置原生导航栏和背景色")]),t._v(" "),a("li",[t._v("有的页面template内容非常少，整页就是一个需要联网加载的列表，这会造成虽然首批dom飞快渲染了，但页面其实还是白的，联网后才能显示字和图。\n此时需要在template里做一些简单占位组件，比如loading组件、骨架屏，让本地先显示一些内容。")])]),t._v(" "),a("ul",[a("li",[t._v("卡住动画不启动的原因：")])]),t._v(" "),a("ol",[a("li",[t._v("页面dom太多，注意有的组件写的不好，会拖累整体页面。uni-app x 里减少dom数量的策略，"),a("a",{attrs:{href:"https://doc.dcloud.net.cn/uni-app-x/performance.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("详见"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("onLoad里执行了耗时的同步计算")])]),t._v(" "),a("h3",{attrs:{id:"onshow和onhide"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#onshow和onhide"}},[t._v("#")]),t._v(" onShow和onHide")]),t._v(" "),a("p",[t._v("注意页面显示，是一个会重复触发的事件。")]),t._v(" "),a("p",[t._v("a页面刚进入时，会触发a页面的onShow。")]),t._v(" "),a("p",[t._v("当a跳转到b页面时，a会触发onHide，而b会触发onShow。")]),t._v(" "),a("p",[t._v("但当b被关闭时，b会触发onUnload，此时a再次显示出现，会再次触发onShow。")]),t._v(" "),a("p",[t._v("在tabbar页面（指pages.json里配置的tabbar），不同tab页面互相切换时，会触发各自的onShow和onHide。")]),t._v(" "),a("h3",{attrs:{id:"oninit"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#oninit"}},[t._v("#")]),t._v(" onInit")]),t._v(" "),a("p",[a("strong",[t._v("注意")])]),t._v(" "),a("ul",[a("li",[t._v("仅百度小程序基础库 3.260 以上支持 onInit 生命周期")]),t._v(" "),a("li",[t._v("其他版本或平台可以同时使用 onLoad 生命周期进行兼容，注意避免重复执行相同逻辑")]),t._v(" "),a("li",[t._v("不依赖页面传参的逻辑可以直接使用 created 生命周期替代")])]),t._v(" "),a("h3",{attrs:{id:"onload"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#onload"}},[t._v("#")]),t._v(" onLoad")]),t._v(" "),a("p",[a("strong",[t._v("注意")])]),t._v(" "),a("ul",[a("li",[a("code",[t._v("uni-app x android")]),t._v(" 平台，如需获取 "),a("a",{attrs:{href:"https://doc.dcloud.net.cn/uni-app-x/plugin/uts-for-android.html#activity",target:"_blank",rel:"noopener noreferrer"}},[t._v("activity 实例"),a("OutboundLink")],1),t._v("，此时当前页面的 "),a("code",[t._v("activity 实例")]),t._v("并未创建完成，会获取到上一个页面的 "),a("code",[t._v("activity 实例")]),t._v("（首页会获取应用默认的 "),a("code",[t._v("activity 实例")]),t._v("）。如需获取当前页面的 "),a("code",[t._v("activity 实例")]),t._v("，应在 "),a("code",[t._v("onShow")]),t._v(" 或 "),a("code",[t._v("onReady")]),t._v(" 生命周期中获取。")])]),t._v(" "),a("h3",{attrs:{id:"onreachbottom"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#onreachbottom"}},[t._v("#")]),t._v(" onReachBottom")]),t._v(" "),a("p",[t._v("可在pages.json里定义具体页面底部的触发距离"),a("a",{attrs:{href:"/collocation/pages#globalstyle"}},[t._v("onReachBottomDistance")]),t._v("，")]),t._v(" "),a("p",[t._v("比如设为50，那么滚动页面到距离底部50px时，就会触发onReachBottom事件。")]),t._v(" "),a("p",[t._v("如使用scroll-view导致页面没有滚动，则触底事件不会被触发。scroll-view滚动到底部的事件请参考scroll-view的文档。")]),t._v(" "),a("h3",{attrs:{id:"onpagescroll"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#onpagescroll"}},[t._v("#")]),t._v(" onPageScroll")]),t._v(" "),a("p",[a("strong",[t._v("参数说明")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("属性")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("scrollTop")]),t._v(" "),a("td",[t._v("Number")]),t._v(" "),a("td",[t._v("页面在垂直方向已滚动的距离（单位px）")])])])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onPageScroll")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//nvue暂不支持滚动监听，可用bindingx代替")]),t._v("\n\tconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"滚动距离为："')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scrollTop"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),a("p",[a("strong",[t._v("注意")])]),t._v(" "),a("ul",[a("li",[a("code",[t._v("onPageScroll")]),t._v("里不要写交互复杂的js，比如频繁修改页面。因为这个生命周期是在渲染层触发的，在非h5端，js是在逻辑层执行的，两层之间通信是有损耗的。如果在滚动过程中，频发触发两层之间的数据交换，可能会造成卡顿。（uvue在app端无此限制）")]),t._v(" "),a("li",[t._v("在webview渲染时，比如app-vue、微信小程序、H5中，也可以使用wxs监听滚动，"),a("a",{attrs:{href:"https://uniapp.dcloud.io/tutorial/miniprogram-subject#wxs",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考"),a("OutboundLink")],1),t._v("；在app-nvue中，可以使用bindingx监听滚动，"),a("a",{attrs:{href:"https://uniapp.dcloud.io/tutorial/nvue-api#nvue-%E9%87%8C%E4%BD%BF%E7%94%A8-bindingx",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考"),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("li",[t._v("如果想实现滚动时标题栏透明渐变，在App和H5下，可在pages.json中配置titleNView下的type为transparent，"),a("a",{attrs:{href:"https://uniapp.dcloud.io/collocation/pages?id=app-titlenview",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考"),a("OutboundLink")],1),t._v("。(uni-app x不支持)")]),t._v(" "),a("li",[t._v("如果需要滚动吸顶固定某些元素，推荐使用css的粘性布局，参考"),a("a",{attrs:{href:"https://ext.dcloud.net.cn/plugin?id=715",target:"_blank",rel:"noopener noreferrer"}},[t._v("插件市场"),a("OutboundLink")],1),t._v("。插件市场也有其他js实现的吸顶插件，但性能不佳，需要时可自行搜索。（uni-app x可自由在uts中设置固定位置）")]),t._v(" "),a("li",[t._v("如果是使用 "),a("code",[t._v("defineComponent")]),t._v("，"),a("code",[t._v("onPageScroll")]),t._v(" 要和 "),a("code",[t._v("setup")]),t._v(" 同层级才会生效，参考下方示例代码")])]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" defineComponent "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vue'")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineComponent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setup")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onPageScroll")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// xxx")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),a("h3",{attrs:{id:"onbackpress"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#onbackpress"}},[t._v("#")]),t._v(" onBackPress")]),t._v(" "),a("p",[a("strong",[t._v("参数说明")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("属性")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("from")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("触发返回行为的来源：'backbutton'——左上角导航栏按钮及安卓返回键；'navigateBack'——uni.navigateBack() 方法。"),a("strong",[t._v("支付宝小程序端不支持返回此字段")])])])])]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onBackPress")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("options")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\tconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'from:'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" options"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("from"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[a("strong",[t._v("注意")])]),t._v(" "),a("ul",[a("li",[a("code",[t._v("onBackPress")]),t._v("上不可使用"),a("code",[t._v("async")]),t._v("，会导致无法阻止默认返回")]),t._v(" "),a("li",[t._v("iOS 端侧滑返回不会触发 "),a("code",[t._v("onBackPress")])]),t._v(" "),a("li",[t._v("支付宝小程序只有真机可以监听到非"),a("code",[t._v("navigateBack")]),t._v("引发的返回事件（使用小程序开发工具时不会触发"),a("code",[t._v("onBackPress")]),t._v("），不可以阻止默认返回行为")])]),t._v(" "),a("p",[t._v("详细说明及使用："),a("a",{attrs:{href:"http://ask.dcloud.net.cn/article/35120",target:"_blank",rel:"noopener noreferrer"}},[t._v("onBackPress 详解"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"ontabitemtap"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ontabitemtap"}},[t._v("#")]),t._v(" onTabItemTap")]),t._v(" "),a("p",[a("strong",[t._v("参数说明")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("属性")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("index")]),t._v(" "),a("td",[t._v("Number")]),t._v(" "),a("td",[t._v("被点击tabItem的序号，从0开始")])]),t._v(" "),a("tr",[a("td",[t._v("pagePath")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("被点击tabItem的页面路径")])]),t._v(" "),a("tr",[a("td",[t._v("text")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("被点击tabItem的按钮文字")])])])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onTabItemTap")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// e的返回格式为json对象： {"index":0,"text":"首页","pagePath":"pages/index/index"}')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),a("p",[a("strong",[t._v("注意")])]),t._v(" "),a("ul",[a("li",[t._v("onTabItemTap常用于点击当前tabitem，滚动或刷新当前页面。如果是点击不同的tabitem，一定会触发页面切换。")]),t._v(" "),a("li",[t._v("如果想在App端实现点击某个tabitem不跳转页面，不能使用onTabItemTap，可以使用"),a("a",{attrs:{href:"http://www.html5plus.org/doc/zh_cn/nativeobj.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("plus.nativeObj.view"),a("OutboundLink")],1),t._v("放一个区块盖住原先的tabitem，并拦截点击事件。")]),t._v(" "),a("li",[t._v("支付宝小程序平台onTabItemTap表现为点击非当前tabitem后触发，因此不能用于实现点击返回顶部这种操作")])]),t._v(" "),a("h3",{attrs:{id:"onnavigationbarbuttontap"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#onnavigationbarbuttontap"}},[t._v("#")]),t._v(" onNavigationBarButtonTap")]),t._v(" "),a("p",[a("strong",[t._v("参数说明")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("属性")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("index")]),t._v(" "),a("td",[t._v("Number")]),t._v(" "),a("td",[t._v("原生标题栏按钮数组的下标")])])])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onNavigationBarButtonTap")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// e的返回格式为json对象：{"text":"测试","index":0}')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[a("strong",[t._v("注意")])]),t._v(" "),a("ul",[a("li",[t._v("nvue 页面weex编译模式支持的生命周期同weex，具体参考："),a("a",{attrs:{href:"https://uniapp.dcloud.io/tutorial/nvue-outline?id=%e7%bc%96%e8%af%91%e6%a8%a1%e5%bc%8f",target:"_blank",rel:"noopener noreferrer"}},[t._v("weex生命周期介绍"),a("OutboundLink")],1),t._v("。")])]),t._v(" "),a("h2",{attrs:{id:"componentlifecycle"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#componentlifecycle"}},[t._v("#")]),t._v(" 组件生命周期")]),t._v(" "),a("p",[a("code",[t._v("uni-app")]),t._v(" 组件支持的生命周期，与vue标准组件的生命周期相同。这里没有页面级的onLoad等生命周期：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("函数名")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("说明")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("平台差异说明")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("最低版本")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("beforeCreate")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("在实例初始化之前被调用。"),a("a",{attrs:{href:"https://v2.cn.vuejs.org/v2/api/#beforeCreate",target:"_blank",rel:"noopener noreferrer"}},[t._v("详见"),a("OutboundLink")],1)]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}}),t._v(" "),a("td",{staticStyle:{"text-align":"left"}})]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("created")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("在实例创建完成后被立即调用。"),a("a",{attrs:{href:"https://v2.cn.vuejs.org/v2/api/#created",target:"_blank",rel:"noopener noreferrer"}},[t._v("详见"),a("OutboundLink")],1)]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}}),t._v(" "),a("td",{staticStyle:{"text-align":"left"}})]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("beforeMount")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("在挂载开始之前被调用。"),a("a",{attrs:{href:"https://v2.cn.vuejs.org/v2/api/#beforeMount",target:"_blank",rel:"noopener noreferrer"}},[t._v("详见"),a("OutboundLink")],1)]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}}),t._v(" "),a("td",{staticStyle:{"text-align":"left"}})]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("mounted")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("挂载到实例上去之后调用。"),a("a",{attrs:{href:"https://v2.cn.vuejs.org/v2/api/#mounted",target:"_blank",rel:"noopener noreferrer"}},[t._v("详见"),a("OutboundLink")],1),t._v(" 注意：此处并不能确定子组件被全部挂载，如果需要子组件完全挂载之后在执行操作可以使用"),a("code",[t._v("$nextTick")]),a("a",{attrs:{href:"https://v2.cn.vuejs.org/v2/api/#vm-nextTick",target:"_blank",rel:"noopener noreferrer"}},[t._v("Vue官方文档"),a("OutboundLink")],1)]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}}),t._v(" "),a("td",{staticStyle:{"text-align":"left"}})]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("beforeUpdate")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("数据更新时调用，发生在虚拟 DOM 打补丁之前。"),a("a",{attrs:{href:"https://v2.cn.vuejs.org/v2/api/#beforeUpdate",target:"_blank",rel:"noopener noreferrer"}},[t._v("详见"),a("OutboundLink")],1)]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("仅H5平台支持")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}})]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("updated")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("由于数据更改导致的虚拟 DOM 重新渲染和打补丁，在这之后会调用该钩子。"),a("a",{attrs:{href:"https://v2.cn.vuejs.org/v2/api/#updated",target:"_blank",rel:"noopener noreferrer"}},[t._v("详见"),a("OutboundLink")],1)]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("仅H5平台支持")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}})]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("beforeDestroy")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("实例销毁之前调用。在这一步，实例仍然完全可用。"),a("a",{attrs:{href:"https://v2.cn.vuejs.org/v2/api/#beforeDestroy",target:"_blank",rel:"noopener noreferrer"}},[t._v("详见"),a("OutboundLink")],1)]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}}),t._v(" "),a("td",{staticStyle:{"text-align":"left"}})]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("destroyed")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Vue 实例销毁后调用。调用后，Vue 实例指示的所有东西都会解绑定，所有的事件监听器会被移除，所有的子实例也会被销毁。"),a("a",{attrs:{href:"https://v2.cn.vuejs.org/v2/api/#destroyed",target:"_blank",rel:"noopener noreferrer"}},[t._v("详见"),a("OutboundLink")],1)]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}}),t._v(" "),a("td",{staticStyle:{"text-align":"left"}})])])]),t._v(" "),a("h2",{attrs:{id:"页面调用接口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#页面调用接口"}},[t._v("#")]),t._v(" 页面调用接口")]),t._v(" "),a("h3",{attrs:{id:"getapp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#getapp"}},[t._v("#")]),t._v(" getApp()")]),t._v(" "),a("p",[a("code",[t._v("getApp()")]),t._v(" 函数用于获取当前应用实例，一般用于获取globalData。也可通过应用实例调用 "),a("code",[t._v("App.vue methods")]),t._v(" 中定义的方法。")]),t._v(" "),a("p",[a("strong",[t._v("实例")])]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" app "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getApp")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("globalData"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\napp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("doSomething")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 调用 App.vue methods 中的 doSomething 方法")]),t._v("\n")])])]),a("p",[a("strong",[t._v("注意：")])]),t._v(" "),a("ul",[a("li",[t._v("不要在定义于 "),a("code",[t._v("App()")]),t._v(" 内的函数中，或调用 "),a("code",[t._v("App")]),t._v(" 前调用 "),a("code",[t._v("getApp()")]),t._v(" ，可以通过 "),a("code",[t._v("this.$scope")]),t._v(" 获取对应的app实例")]),t._v(" "),a("li",[t._v("通过 "),a("code",[t._v("getApp()")]),t._v(" 获取实例之后，不要私自调用生命周期函数。")]),t._v(" "),a("li",[t._v("当在首页"),a("code",[t._v("nvue")]),t._v("中使用"),a("code",[t._v("getApp()")]),t._v("不一定可以获取真正的"),a("code",[t._v("App")]),t._v("对象。对此提供了"),a("code",[t._v("const app = getApp({allowDefault: true})")]),t._v("用来获取原始的"),a("code",[t._v("App")]),t._v("对象，可以用来在首页对"),a("code",[t._v("globalData")]),t._v("等初始化")])]),t._v(" "),a("h3",{attrs:{id:"getcurrentpages"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#getcurrentpages"}},[t._v("#")]),t._v(" getCurrentPages()")]),t._v(" "),a("p",[a("code",[t._v("getCurrentPages()")]),t._v(" 函数用于获取当前"),a("a",{attrs:{href:"#%E9%A1%B5%E9%9D%A2%E6%A0%88"}},[t._v("页面栈")]),t._v("的实例，以数组形式按栈的顺序给出，数组中的元素为页面实例，第一个元素为首页，最后一个元素为当前页面。")]),t._v(" "),a("p",[t._v("每个页面实例的方法属性列表：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("方法")]),t._v(" "),a("th",[t._v("描述")]),t._v(" "),a("th",[t._v("平台说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("page.$getAppWebview()")]),t._v(" "),a("td",[t._v("获取当前页面的webview对象实例")]),t._v(" "),a("td",[t._v("App")])]),t._v(" "),a("tr",[a("td",[t._v("page.route")]),t._v(" "),a("td",[t._v("获取当前页面的路由")]),t._v(" "),a("td")])])]),t._v(" "),a("p",[a("strong",[t._v("注意：")])]),t._v(" "),a("p",[a("code",[t._v("getCurrentPages()")]),t._v(" 仅用于展示页面栈的情况，请勿修改页面栈，以免造成页面状态错误。"),a("br"),t._v("\n页面关闭时，对应页面实例会在页面栈中删除。")]),t._v(" "),a("p",[t._v("Tips：")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("navigateTo")]),t._v(", "),a("code",[t._v("redirectTo")]),t._v(" 只能打开非 tabBar 页面。")]),t._v(" "),a("li",[a("code",[t._v("switchTab")]),t._v(" 只能打开 "),a("code",[t._v("tabBar")]),t._v(" 页面。")]),t._v(" "),a("li",[a("code",[t._v("reLaunch")]),t._v(" 可以打开任意页面。")]),t._v(" "),a("li",[t._v("页面底部的 "),a("code",[t._v("tabBar")]),t._v(" 由页面决定，即只要是定义为 "),a("code",[t._v("tabBar")]),t._v(" 的页面，底部都有 "),a("code",[t._v("tabBar")]),t._v("。")]),t._v(" "),a("li",[t._v("不能在首页 "),a("code",[t._v("onReady")]),t._v(" 之前进行页面跳转。")])]),t._v(" "),a("h3",{attrs:{id:"getappwebview"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#getappwebview"}},[t._v("#")]),t._v(" $getAppWebview() ")]),t._v(" "),a("p",[a("code",[t._v("uni-app")]),t._v(" 在 "),a("code",[t._v("getCurrentPages()")]),t._v("获得的页面里内置了一个方法 "),a("code",[t._v("$getAppWebview()")]),t._v(" 可以得到当前webview的对象实例，从而实现对 webview 更强大的控制。在 html5Plus 中，plus.webview具有强大的控制能力，可参考："),a("a",{attrs:{href:"http://www.html5plus.org/doc/zh_cn/webview.html#plus.webview.WebviewObject",target:"_blank",rel:"noopener noreferrer"}},[t._v("WebviewObject"),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("p",[t._v("但"),a("code",[t._v("uni-app")]),t._v("框架有自己的窗口管理机制，请不要自己创建和销毁webview，如有需求覆盖子窗体上去，请使用"),a("a",{attrs:{href:"/api/window/subNVues"}},[t._v("原生子窗体subNvue")]),t._v("。")]),t._v(" "),a("p",[a("strong",[t._v("注意：此方法仅 App 支持")])]),t._v(" "),a("p",[a("strong",[t._v("示例：")])]),t._v(" "),a("p",[t._v("获取当前页面 webview 的对象实例")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("data")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("title")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Hello'")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onLoad")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// #ifdef APP-PLUS")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" currentWebview "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$scope"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("$getAppWebview")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//此对象相当于html5plus里的plus.webview.currentWebview()。在uni-app里vue页面直接使用plus.webview.currentWebview()无效")]),t._v("\n    currentWebview"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setBounce")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("position")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("top")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'100px'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("changeoffset")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("top")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'0px'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//动态重设bounce效果")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// #endif")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("获取指定页面 webview 的对象实例")]),t._v(" "),a("p",[a("code",[t._v("getCurrentPages()")]),t._v("可以得到所有页面对象，然后根据数组，可以取指定的页面webview对象")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" pages "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getCurrentPages")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" page "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" pages"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("pages"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// #ifdef APP-PLUS")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" currentWebview "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" page"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("$getAppWebview")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("currentWebview"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//获得当前webview的id")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("currentWebview"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("isVisible")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//查询当前webview是否可见")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// #endif")]),t._v("\n")])])]),a("p",[t._v("uni-app自带的web-view组件，是页面中新插入的一个子webview。获取该对象的方法见："),a("a",{attrs:{href:"https://ask.dcloud.net.cn/article/35036",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://ask.dcloud.net.cn/article/35036"),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"页面通讯"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#页面通讯"}},[t._v("#")]),t._v(" 页面通讯")]),t._v(" "),a("h3",{attrs:{id:"emit"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#emit"}},[t._v("#")]),t._v(" uni.$emit(eventName,OBJECT) ")]),t._v(" "),a("p",[t._v("触发全局的自定义事件。附加参数都会传给监听器回调。")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("属性")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("eventName")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("事件名")])]),t._v(" "),a("tr",[a("td",[t._v("OBJECT")]),t._v(" "),a("td",[t._v("Object")]),t._v(" "),a("td",[t._v("触发事件携带的附加参数")])])])]),t._v(" "),a("p",[a("strong",[t._v("代码示例")])]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("\tuni"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("$emit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'update'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("msg")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'页面更新'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"on"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#on"}},[t._v("#")]),t._v(" uni.$on(eventName,callback) ")]),t._v(" "),a("p",[t._v("监听全局的自定义事件。事件可以由 uni.$emit 触发，回调函数会接收所有传入事件触发函数的额外参数。")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("属性")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("eventName")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("事件名")])]),t._v(" "),a("tr",[a("td",[t._v("callback")]),t._v(" "),a("td",[t._v("Function")]),t._v(" "),a("td",[t._v("事件的回调函数")])])])]),t._v(" "),a("p",[a("strong",[t._v("代码示例")])]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("\tuni"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("$on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'update'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("data")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\tconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'监听到事件来自 update ，携带参数 msg 为：'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("msg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"once"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#once"}},[t._v("#")]),t._v(" uni.$once(eventName,callback) ")]),t._v(" "),a("p",[t._v("监听全局的自定义事件。事件可以由 uni.$emit 触发，但是只触发一次，在第一次触发之后移除监听器。")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("属性")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("eventName")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("事件名")])]),t._v(" "),a("tr",[a("td",[t._v("callback")]),t._v(" "),a("td",[t._v("Function")]),t._v(" "),a("td",[t._v("事件的回调函数")])])])]),t._v(" "),a("p",[a("strong",[t._v("代码示例")])]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("\tuni"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("$once")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'update'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("data")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\tconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'监听到事件来自 update ，携带参数 msg 为：'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("msg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"off"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#off"}},[t._v("#")]),t._v(" uni.$off(eventName, callback) ")]),t._v(" "),a("p",[t._v("移除全局自定义事件监听器。")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("属性")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("eventName")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("事件名")])]),t._v(" "),a("tr",[a("td",[t._v("callback")]),t._v(" "),a("td",[t._v("Function")]),t._v(" "),a("td",[t._v("事件的回调函数")])])])]),t._v(" "),a("p",[a("strong",[t._v("Tips")])]),t._v(" "),a("ul",[a("li",[t._v("如果没有提供参数，则移除所有的事件监听器；")]),t._v(" "),a("li",[t._v("如果只提供了事件，则移除该事件所有的监听器；")]),t._v(" "),a("li",[t._v("如果同时提供了事件与回调，则只移除这个回调的监听器；")]),t._v(" "),a("li",[t._v("提供的回调必须跟$on的回调为同一个才能移除这个回调的监听器；")])]),t._v(" "),a("p",[a("strong",[t._v("代码示例")])]),t._v(" "),a("p",[a("code",[t._v("$emit")]),t._v("、"),a("code",[t._v("$on")]),t._v("、"),a("code",[t._v("$off")]),t._v("常用于跨页面、跨组件通讯，这里为了方便演示放在同一个页面")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[t._v("\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("template")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("view")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("content"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("view")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("text")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("{{val}}"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("text")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("view")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("button")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("primary"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("@click")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("comunicationOff"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("结束监听"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("button")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("view")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("template")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token script"}},[a("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("data")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("val")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onLoad")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setInterval")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t\t\tuni"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("$emit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'add'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("data")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n\t\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t\t\tuni"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("$on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'add'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("add"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("methods")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("comunicationOff")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t\t\tuni"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("$off")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'add'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("add"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("val "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data\n\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("style")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token style"}},[a("span",{pre:!0,attrs:{class:"token language-css"}},[t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".content")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("display")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" flex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("flex-direction")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" column"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("align-items")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" center"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("justify-content")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" center"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\t\t"),a("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".data")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("text-align")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" center"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("line-height")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 40px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("margin-top")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 40px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\t\t"),a("span",{pre:!0,attrs:{class:"token selector"}},[t._v("button")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("width")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 200px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("margin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 20px 0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("style")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n")])])]),a("p",[a("strong",[t._v("注意事项")])]),t._v(" "),a("ul",[a("li",[t._v("uni.$emit、 uni.$on 、 uni.$once 、uni.$off 触发的事件都是 App 全局级别的，跨任意组件，页面，nvue，vue 等")]),t._v(" "),a("li",[t._v("使用时，注意及时销毁事件监听，比如，页面 onLoad 里边 uni.$on 注册监听，onUnload 里边 uni.$off 移除，或者一次性的事件，直接使用 uni.$once 监听")])]),t._v(" "),a("p",[t._v("扩展阅读：")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://ask.dcloud.net.cn/article/36010",target:"_blank",rel:"noopener noreferrer"}},[t._v("如何使用uni.$emit()和uni.$on() 进行页面间通讯"),a("OutboundLink")],1)])]),t._v(" "),a("h2",{attrs:{id:"路由"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#路由"}},[t._v("#")]),t._v(" 路由")]),t._v(" "),a("p",[a("code",[t._v("uni-app")]),t._v("页面路由为框架统一管理，开发者需要在"),a("a",{attrs:{href:"/collocation/pages#pages"}},[t._v("pages.json")]),t._v("里配置每个路由页面的路径及页面样式。类似小程序在 app.json 中配置页面路由一样。所以 "),a("code",[t._v("uni-app")]),t._v(" 的路由用法与 "),a("code",[t._v("Vue Router")]),t._v(" 不同，如仍希望采用 "),a("code",[t._v("Vue Router")]),t._v(" 方式管理路由，可在插件市场搜索 "),a("a",{attrs:{href:"https://ext.dcloud.net.cn/search?q=vue-router",target:"_blank",rel:"noopener noreferrer"}},[t._v("Vue-Router"),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("h3",{attrs:{id:"路由跳转"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#路由跳转"}},[t._v("#")]),t._v(" 路由跳转")]),t._v(" "),a("p",[a("code",[t._v("uni-app")]),t._v(" 有两种页面路由跳转方式：使用"),a("a",{attrs:{href:"/component/navigator"}},[t._v("navigator")]),t._v("组件跳转、调用"),a("a",{attrs:{href:"/api/router"}},[t._v("API")]),t._v("跳转。")]),t._v(" "),a("p",[a("strong",[t._v("注意")]),t._v("：")]),t._v(" "),a("p",[t._v("页面返回时会自动关闭 loading 及 toast, modal 及 actionSheet 不会自动关闭。"),a("br"),t._v("\n页面关闭时，只是销毁了页面实例，未完成的网络请求、计时器等副作用需开发者自行处理。")]),t._v(" "),a("h2",{attrs:{id:"页面栈"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#页面栈"}},[t._v("#")]),t._v(" 页面栈")]),t._v(" "),a("p",[t._v("框架以栈的形式管理当前所有页面， 当发生路由切换的时候，页面栈的表现如下：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("路由方式")]),t._v(" "),a("th",[t._v("页面栈表现")]),t._v(" "),a("th",[t._v("触发时机")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("初始化")]),t._v(" "),a("td",[t._v("新页面入栈")]),t._v(" "),a("td",[t._v("uni-app 打开的第一个页面")])]),t._v(" "),a("tr",[a("td",[t._v("打开新页面")]),t._v(" "),a("td",[t._v("新页面入栈")]),t._v(" "),a("td",[t._v("调用 API   "),a("a",{attrs:{href:"/api/router#navigateto"}},[t._v("uni.navigateTo")]),t._v("  、使用组件  "),a("a",{attrs:{href:"/component/navigator?id=navigator"}},[t._v('<navigator open-type="navigate"/>')])])]),t._v(" "),a("tr",[a("td",[t._v("页面重定向")]),t._v(" "),a("td",[t._v("当前页面出栈，新页面入栈")]),t._v(" "),a("td",[t._v("调用 API    "),a("a",{attrs:{href:"/api/router#redirectto"}},[t._v("uni.redirectTo")]),t._v("  、使用组件  "),a("a",{attrs:{href:"/component/navigator?id=navigator"}},[t._v('<navigator open-type="redirectTo"/>')])])]),t._v(" "),a("tr",[a("td",[t._v("页面返回")]),t._v(" "),a("td",[t._v("页面不断出栈，直到目标返回页")]),t._v(" "),a("td",[t._v("调用 API  "),a("a",{attrs:{href:"/api/router#navigateback"}},[t._v("uni.navigateBack")]),t._v("   、使用组件 "),a("a",{attrs:{href:"/component/navigator?id=navigator"}},[t._v('<navigator open-type="navigateBack"/>')]),t._v(" 、用户按左上角返回按钮、安卓用户点击物理back按键")])]),t._v(" "),a("tr",[a("td",[t._v("Tab 切换")]),t._v(" "),a("td",[t._v("页面全部出栈，只留下新的 Tab 页面")]),t._v(" "),a("td",[t._v("调用 API  "),a("a",{attrs:{href:"/api/router#switchtab"}},[t._v("uni.switchTab")]),t._v("   、使用组件  "),a("a",{attrs:{href:"/component/navigator?id=navigator"}},[t._v('<navigator open-type="switchTab"/>')]),t._v("  、用户切换 Tab")])]),t._v(" "),a("tr",[a("td",[t._v("重加载")]),t._v(" "),a("td",[t._v("页面全部出栈，只留下新的页面")]),t._v(" "),a("td",[t._v("调用 API  "),a("a",{attrs:{href:"/api/router#relaunch"}},[t._v("uni.reLaunch")]),t._v("   、使用组件  "),a("a",{attrs:{href:"/component/navigator?id=navigator"}},[t._v('<navigator open-type="reLaunch"/>')])])])])]),t._v(" "),a("h2",{attrs:{id:"template-block"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#template-block"}},[t._v("#")]),t._v(" 页面代码规范介绍 ")]),t._v(" "),a("p",[a("code",[t._v("uni-app")]),t._v(" 支持在 template 模板中嵌套 "),a("code",[t._v("<template/>")]),t._v(" 和 "),a("code",[t._v("<block/>")]),t._v("，用来进行 "),a("a",{attrs:{href:"/tutorial/vue-basics#condition"}},[t._v("条件渲染")]),t._v(" 和 "),a("a",{attrs:{href:"/tutorial/vue-basics#listrendering"}},[t._v("列表渲染")]),t._v("。")]),t._v(" "),a("p",[a("code",[t._v("<template/>")]),t._v(" 和 "),a("code",[t._v("<block/>")]),t._v(" 并不是一个组件，它们仅仅是一个包装元素，不会在页面中做任何渲染，只接受控制属性。")]),t._v(" "),a("p",[a("code",[t._v("<block/>")]),t._v(" 在不同的平台表现存在一定差异，推荐统一使用 "),a("code",[t._v("<template/>")]),t._v("。")]),t._v(" "),a("p",[a("strong",[t._v("代码示例")])]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("template")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("view")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("template")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("v-if")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("test"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("view")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("test 为 true 时显示"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("view")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("template")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("template")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("v-else")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("view")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("test 为 false 时显示"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("view")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("template")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("view")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("template")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("template")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("view")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("block")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("v-for")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("(item,index) in list"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":key")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("view")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("{{item}} - {{index}}"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("view")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("block")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("view")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("template")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("h2",{attrs:{id:"nvue-开发与-vue-开发的常见区别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nvue-开发与-vue-开发的常见区别"}},[t._v("#")]),t._v(" nvue 开发与 vue 开发的常见区别")]),t._v(" "),a("p",[t._v("基于原生引擎的渲染，虽然还是前端技术栈，但和 web 开发肯定是有区别的。")]),t._v(" "),a("ol",[a("li",[t._v("nvue 页面控制显隐只可以使用"),a("code",[t._v("v-if")]),t._v("不可以使用"),a("code",[t._v("v-show")])]),t._v(" "),a("li",[t._v("nvue 页面只能使用"),a("code",[t._v("flex")]),t._v("布局，不支持其他布局方式。页面开发前，首先想清楚这个页面的纵向内容有什么，哪些是要滚动的，然后每个纵向内容的横轴排布有什么，按 flex 布局设计好界面。")]),t._v(" "),a("li",[t._v("nvue 页面的布局排列方向默认为竖排（"),a("code",[t._v("column")]),t._v("），如需改变布局方向，可以在 "),a("code",[t._v("manifest.json")]),t._v(" -> "),a("code",[t._v("app-plus")]),t._v(" -> "),a("code",[t._v("nvue")]),t._v(" -> "),a("code",[t._v("flex-direction")]),t._v(" 节点下修改，仅在 uni-app 模式下生效。"),a("a",{attrs:{href:"https://uniapp.dcloud.io/collocation/manifest?id=nvue",target:"_blank",rel:"noopener noreferrer"}},[t._v("详情"),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("li",[t._v("nvue 页面编译为 H5、小程序时，会做一件 css 默认值对齐的工作。因为 weex 渲染引擎只支持 flex，并且默认 flex 方向是垂直。而 H5 和小程序端，使用 web 渲染，默认不是 flex，并且设置"),a("code",[t._v("display:flex")]),t._v("后，它的 flex 方向默认是水平而不是垂直的。所以 nvue 编译为 H5、小程序时，会自动把页面默认布局设为 flex、方向为垂直。当然开发者手动设置后会覆盖默认设置。")]),t._v(" "),a("li",[t._v("文字内容，必须、只能在"),a("code",[t._v("<text>")]),t._v("组件下。不能在"),a("code",[t._v("<div>")]),t._v("、"),a("code",[t._v("<view>")]),t._v("的"),a("code",[t._v("text")]),t._v("区域里直接写文字。否则即使渲染了，也无法绑定 js 里的变量。")]),t._v(" "),a("li",[t._v("只有"),a("code",[t._v("text")]),t._v("标签可以设置字体大小，字体颜色。")]),t._v(" "),a("li",[t._v("布局不能使用百分比、没有媒体查询。")]),t._v(" "),a("li",[t._v("nvue 切换横竖屏时可能导致样式出现问题，建议有 nvue 的页面锁定手机方向。")]),t._v(" "),a("li",[t._v("支持的 css 有限，不过并不影响布局出你需要的界面，"),a("code",[t._v("flex")]),t._v("还是非常强大的。"),a("a",{attrs:{href:"/tutorial/nvue-css#flexbox"}},[t._v("详见")])]),t._v(" "),a("li",[t._v("不支持背景图。但可以使用"),a("code",[t._v("image")]),t._v("组件和层级来实现类似 web 中的背景效果。因为原生开发本身也没有 web 这种背景图概念")]),t._v(" "),a("li",[t._v("css 选择器支持的比较少，只能使用 class 选择器。"),a("a",{attrs:{href:"/tutorial/nvue-css"}},[t._v("详见")])]),t._v(" "),a("li",[t._v("nvue 的各组件在安卓端默认是透明的，如果不设置"),a("code",[t._v("background-color")]),t._v("，可能会导致出现重影的问题。")]),t._v(" "),a("li",[a("code",[t._v("class")]),t._v(" 进行绑定时只支持数组语法。")]),t._v(" "),a("li",[t._v("Android 端在一个页面内使用大量圆角边框会造成性能问题，尤其是多个角的样式还不一样的话更耗费性能。应避免这类使用。")]),t._v(" "),a("li",[t._v("nvue 页面没有"),a("code",[t._v("bounce")]),t._v("回弹效果，只有几个列表组件有"),a("code",[t._v("bounce")]),t._v("效果，包括 "),a("code",[t._v("list")]),t._v("、"),a("code",[t._v("recycle-list")]),t._v("、"),a("code",[t._v("waterfall")]),t._v("。")]),t._v(" "),a("li",[t._v("原生开发没有页面滚动的概念，页面内容高过屏幕高度并不会自动滚动，只有部分组件可滚动（"),a("code",[t._v("list")]),t._v("、"),a("code",[t._v("waterfall")]),t._v("、"),a("code",[t._v("scroll-view/scroller")]),t._v("），要滚得内容需要套在可滚动组件下。这不符合前端开发的习惯，所以在 nvue 编译为 uni-app 模式时，给页面外层自动套了一个 "),a("code",[t._v("scroller")]),t._v("，页面内容过高会自动滚动。（组件不会套，页面有"),a("code",[t._v("recycle-list")]),t._v("时也不会套）。后续会提供配置，可以设置不自动套。")]),t._v(" "),a("li",[t._v("在 App.vue 中定义的全局 js 变量不会在 nvue 页面生效。"),a("code",[t._v("globalData")]),t._v("和"),a("code",[t._v("vuex")]),t._v("是生效的。")]),t._v(" "),a("li",[t._v("App.vue 中定义的全局 css，对 nvue 和 vue 页面同时生效。如果全局 css 中有些 css 在 nvue 下不支持，编译时控制台会报警，建议把这些不支持的 css 包裹在"),a("a",{attrs:{href:"https://uniapp.dcloud.io/tutorial/platform",target:"_blank",rel:"noopener noreferrer"}},[t._v("条件编译"),a("OutboundLink")],1),t._v("里，"),a("code",[t._v("APP-PLUS-NVUE")])]),t._v(" "),a("li",[t._v("不能在 "),a("code",[t._v("style")]),t._v(" 中引入字体文件，nvue 中字体图标的使用参考："),a("a",{attrs:{href:"/tutorial/nvue-api#addrule"}},[t._v("加载自定义字体")]),t._v("。如果是本地字体，可以用"),a("code",[t._v("plus.io")]),t._v("的 API 转换路径。")]),t._v(" "),a("li",[t._v("目前不支持在 nvue 页面使用 "),a("code",[t._v("typescript/ts")]),t._v("。")]),t._v(" "),a("li",[t._v("nvue 页面关闭原生导航栏时，想要模拟状态栏，可以"),a("a",{attrs:{href:"https://ask.dcloud.net.cn/article/35111",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考文章"),a("OutboundLink")],1),t._v("。但是，仍然强烈建议在 nvue 页面使用原生导航栏。nvue 的渲染速度再快，也没有原生导航栏快。原生排版引擎解析"),a("code",[t._v("json")]),t._v("绘制原生导航栏耗时很少，而解析 nvue 的 js 绘制整个页面的耗时要大的多，尤其在新页面进入动画期间，对于复杂页面，没有原生导航栏会在动画期间产生整个屏幕的白屏或闪屏。")])])])}),[],!1,null,null,null);a.default=e.exports}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{443:function(t,n,a){"use strict";a.r(n);var s=a(1),r=Object(s.a)({},(function(){var t=this,n=t._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("div",{staticClass:"custom-block warning"},[n("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),n("p",[t._v("推荐使用 "),n("a",{attrs:{href:"https://uniapp.dcloud.io/uni-stat-v2.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("uni统计2.0"),n("OutboundLink")],1)])]),t._v(" "),n("h1",{attrs:{id:"统计"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#统计"}},[t._v("#")]),t._v(" 统计")]),t._v(" "),n("p",[t._v("从uni-app 2.2.3起，支持uni统计。一张报表，掌握全端数据。业务介绍详见"),n("a",{attrs:{href:"https://tongji.dcloud.net.cn",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://tongji.dcloud.net.cn"),n("OutboundLink")],1)]),t._v(" "),n("p",[t._v("自定义事件是统计中不可或缺的功能。开发者可通过本API自定义上报统计数据，如统计登录、注册、点击某个按钮，我们都可以称之为自定义事件。")]),t._v(" "),n("h2",{attrs:{id:"report"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#report"}},[t._v("#")]),t._v(" uni.report( eventKey , param)")]),t._v(" "),n("p",[n("strong",[t._v("参数说明")])]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("参数")]),t._v(" "),n("th",[t._v("类型")]),t._v(" "),n("th",[t._v("描述")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("eventKey")]),t._v(" "),n("td",[t._v("String")]),t._v(" "),n("td",[t._v("事件名称，最大长度不超过 255 个字符")])]),t._v(" "),n("tr",[n("td",[t._v("param")]),t._v(" "),n("td",[t._v("String 、 Object")]),t._v(" "),n("td",[t._v("事件参数")])])])]),t._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),n("ul",[n("li",[t._v("eventKey 为 String 类型，并且字符长度必须小于255")]),t._v(" "),n("li",[t._v("param 为 String 类型时，字符长度必须小于255")]),t._v(" "),n("li",[t._v("param 为 Object 类型时，该对象的值只能为 String 类型")]),t._v(" "),n("li",[t._v("字符串支持特殊字符但不包括（英文逗号 , 英文冒号 : 点 .）")]),t._v(" "),n("li",[t._v("eventKey 为 "),n("code",[t._v("title")]),t._v(" 时为内容标题上报，用户不能自定义。此时数据会展现在uni统计的首页-内容统计及左侧导航的内容统计中。方便查看内容页数据。")]),t._v(" "),n("li",[t._v("用户在使用 "),n("code",[t._v("uni.login()")]),t._v(" 会执行登录事件，不携带参数。如果如需上报携带具体参数的数据，需要手动调用 "),n("code",[t._v("uni.report('login',{...})")])]),t._v(" "),n("li",[t._v("用户在使用 "),n("code",[t._v("uni.share()")]),t._v(" 或触发 "),n("code",[t._v("onShareAppMessage")]),t._v(" 会执行分享事件，不携带参数。如果如需上报携带具体参数的数据，需要手动调用 "),n("code",[t._v("uni.report('share',{...})")])]),t._v(" "),n("li",[t._v("用户在使用 "),n("code",[t._v("uni.requestPayment()")]),t._v(" 会执行支付事件，不携带参数。如果如需上报携带具体参数的数据，需要手动调用 "),n("code",[t._v("uni.report('pay_success',{...})")]),t._v(" 和 "),n("code",[t._v("uni.report('pay_fail',{...})")])])])]),t._v(" "),n("p",[n("strong",[t._v("示例")])]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 内容统计")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 当 eventKey 为 title 时，param 只能为 String 类型")]),t._v("\nuni"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("report")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'title'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'首页'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 登录")]),t._v("\nuni"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("report")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'login'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'name'")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'uni-app'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'age'")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'21'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 分享")]),t._v("\nuni"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("report")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'share'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'分享'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 支付成功")]),t._v("\nuni"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("report")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pay_success'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'支付成功'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// or")]),t._v("\nuni"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("report")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pay_success'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"订单金额"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'20元'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"订单名称"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'鼠标'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 支付失败")]),t._v("\nuni"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("report")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pay_fail'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'支付失败'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// or")]),t._v("\nuni"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("report")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pay_fail'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"订单金额"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'20元'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"订单名称"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'鼠标'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 注册")]),t._v("\nuni"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("report")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'register'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'name'")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'uni-app'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'age'")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'21'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 搜索")]),t._v("\nuni"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("report")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'search'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'搜索内容'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// or")]),t._v("\nuni"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("report")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'search'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'内容'")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'搜索内容'")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])]),n("p",[t._v("自定义事件上报后：")]),t._v(" "),n("ul",[n("li",[t._v("统计1.0在统计后台的"),n("code",[t._v("事件和转换")]),t._v("栏目中，可以看到上报的事件情况。")]),t._v(" "),n("li",[t._v("统计2.0在uni-admin后台的"),n("code",[t._v("uni 统计 --\x3e 自定义事件")]),t._v("栏目中，可以看到上报的事件情况。")])]),t._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),n("ul",[n("li",[t._v("小程序平台，需将"),n("code",[t._v("tongji.dcloud.net.cn")]),t._v("配入域名白名单，"),n("a",{attrs:{href:"https://ask.dcloud.net.cn/article/36298",target:"_blank",rel:"noopener noreferrer"}},[t._v("详见"),n("OutboundLink")],1)]),t._v(" "),n("li",[t._v("uni统计使用教程："),n("a",{attrs:{href:"https://uniapp.dcloud.io/uni-stat-v2.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("uni统计2.0"),n("OutboundLink")],1),t._v("、"),n("a",{attrs:{href:"https://uniapp.dcloud.io/uni-stat-v1.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("uni统计1.0"),n("OutboundLink")],1)])])]),t._v(" "),n("h2",{attrs:{id:"支持-uni-report-的-uni-ui-组件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#支持-uni-report-的-uni-ui-组件"}},[t._v("#")]),t._v(" 支持 uni.report 的 uni-ui 组件")]),t._v(" "),n("p",[n("code",[t._v("uni-ui")]),t._v(" 中内置了一些数据采集相关的组件,用户使用这些组件，并设置属性 "),n("code",[t._v("stat:true")]),t._v("，即可在使用相关组件时，自动上报相关自定义数据")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://ext.dcloud.net.cn/plugin?name=uni-nav-bar",target:"_blank",rel:"noopener noreferrer"}},[t._v("uni-nav-bar"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://ext.dcloud.net.cn/plugin?name=uni-title",target:"_blank",rel:"noopener noreferrer"}},[t._v("uni-title"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://ext.dcloud.net.cn/plugin?name=uni-group",target:"_blank",rel:"noopener noreferrer"}},[t._v("uni-group"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://ext.dcloud.net.cn/plugin?name=uni-goods-nav",target:"_blank",rel:"noopener noreferrer"}},[t._v("uni-goods-nav"),n("OutboundLink")],1)])]),t._v(" "),n("h2",{attrs:{id:"非官方自定义统计"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#非官方自定义统计"}},[t._v("#")]),t._v(" 非官方自定义统计")]),t._v(" "),n("p",[t._v("除了官方的uni统计，如果开发者还需要调用小程序平台的自定义统计，给小程序的后台上报数据，那么需使用条件编译，在各端调用此自己的API。")]),t._v(" "),n("h3",{attrs:{id:"微信小程序平台"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#微信小程序平台"}},[t._v("#")]),t._v(" 微信小程序平台：")]),t._v(" "),n("ul",[n("li",[t._v("数据上报："),n("a",{attrs:{href:"https://developers.weixin.qq.com/minigame/dev/api/data-analysis/wx.reportMonitor.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("wx.reportMonitor"),n("OutboundLink")],1)]),t._v(" "),n("li",[t._v("数据分析："),n("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/api/data-analysis/wx.reportAnalytics.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("wx.reportAnalytics"),n("OutboundLink")],1)])]),t._v(" "),n("h3",{attrs:{id:"支付宝小程序平台"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#支付宝小程序平台"}},[t._v("#")]),t._v(" 支付宝小程序平台：")]),t._v(" "),n("ul",[n("li",[t._v("自定义分析数据的上报接口："),n("a",{attrs:{href:"https://docs.alipay.com/mini/api/report",target:"_blank",rel:"noopener noreferrer"}},[t._v("my.reportAnalytics"),n("OutboundLink")],1)])]),t._v(" "),n("h3",{attrs:{id:"百度小程序平台"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#百度小程序平台"}},[t._v("#")]),t._v(" 百度小程序平台：")]),t._v(" "),n("ul",[n("li",[t._v("数据分析："),n("a",{attrs:{href:"https://smartprogram.baidu.com/docs/develop/api/data/#swan-reportAnalytics/",target:"_blank",rel:"noopener noreferrer"}},[t._v("swan.reportAnalytics"),n("OutboundLink")],1)])]),t._v(" "),n("h3",{attrs:{id:"抖音小程序平台"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#抖音小程序平台"}},[t._v("#")]),t._v(" 抖音小程序平台：")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://developer.open-douyin.com/docs/resource/zh-CN/mini-game/develop/open-capacity/data-analysis/tt-report-analytics/",target:"_blank",rel:"noopener noreferrer"}},[t._v("reportAnalytics"),n("OutboundLink")],1)])]),t._v(" "),n("h3",{attrs:{id:"qq小程序平台"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#qq小程序平台"}},[t._v("#")]),t._v(" QQ小程序平台：")]),t._v(" "),n("ul",[n("li",[t._v("数据上报："),n("a",{attrs:{href:"https://q.qq.com/wiki/develop/miniprogram/API/open_port/port_dataup.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("qq.reportMonitor"),n("OutboundLink")],1)]),t._v(" "),n("li",[t._v("数据分析："),n("a",{attrs:{href:"https://q.qq.com/wiki/develop/miniprogram/API/open_port/port_dataanalysis.html#qq-reportanalytics",target:"_blank",rel:"noopener noreferrer"}},[t._v("qq.reportAnalytics"),n("OutboundLink")],1)])]),t._v(" "),n("h3",{attrs:{id:"app平台的友盟统计"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#app平台的友盟统计"}},[t._v("#")]),t._v(" App平台的友盟统计：")]),t._v(" "),n("ul",[n("li",[t._v("友盟统计："),n("a",{attrs:{href:"http://www.html5plus.org/doc/zh_cn/statistic.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("开发规范"),n("OutboundLink")],1),t._v("，"),n("a",{attrs:{href:"https://ask.dcloud.net.cn/article/74",target:"_blank",rel:"noopener noreferrer"}},[t._v("配置文档"),n("OutboundLink")],1)])])])}),[],!1,null,null,null);n.default=r.exports}}]);
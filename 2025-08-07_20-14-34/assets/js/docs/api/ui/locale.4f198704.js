(window.webpackJsonp=window.webpackJsonp||[]).push([[119],{506:function(t,e,a){"use strict";a.r(e);var l=a(1),v=Object(l.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"getlocale"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#getlocale"}},[t._v("#")]),t._v(" uni.getLocale()")]),t._v(" "),e("p",[t._v("获取当前设置的语言")]),t._v(" "),e("p",[e("strong",[t._v("平台差异说明")])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[t._v("App")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("H5")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("微信小程序")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("支付宝小程序")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("百度小程序")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("抖音小程序、飞书小程序")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("QQ小程序")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("快手小程序")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("华为快应用")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("360小程序")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("京东小程序")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("元服务")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("小红书小程序")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("3.2.5+")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("3.2.5+")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("3.4.14+")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("3.4.14+")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("3.4.14+")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("3.4.14+")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("3.4.14+")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("3.4.14+")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("3.4.14+")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("3.4.14+")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("3.4.14+")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("x")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("√")])])])]),t._v(" "),e("h3",{attrs:{id:"getlocale-兼容性"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#getlocale-兼容性"}},[t._v("#")]),t._v(" getLocale 兼容性")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("HarmonyOS")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("HBuilderX 4.23")])])])]),t._v(" "),e("p",[t._v("如果当前应用设置过语言，会获取到之前设置的语言，未设置时会返回根据系统语言类型自动选择的语言。")]),t._v(" "),e("h2",{attrs:{id:"setlocale"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#setlocale"}},[t._v("#")]),t._v(" uni.setLocale(locale)")]),t._v(" "),e("p",[t._v("设置当前语言")]),t._v(" "),e("p",[e("strong",[t._v("平台差异说明")])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[t._v("App")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("H5")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("微信小程序")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("支付宝小程序")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("百度小程序")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("抖音小程序、飞书小程序")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("QQ小程序")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("快手小程序")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("华为快应用")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("360小程序")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("京东小程序")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("元服务")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("小红书小程序")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("3.2.5+")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("3.2.5+")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("3.4.14+")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("3.4.14+")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("3.4.14+")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("3.4.14+")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("3.4.14+")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("3.4.14+")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("3.4.14+")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("3.4.14+")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("3.4.14+")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("x")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("√")])])])]),t._v(" "),e("h3",{attrs:{id:"setlocale-兼容性"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#setlocale-兼容性"}},[t._v("#")]),t._v(" setLocale 兼容性")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("HarmonyOS")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("HBuilderX 4.23")])])])]),t._v(" "),e("p",[t._v("仅可设置为框架内置语言与"),e("RouterLink",{attrs:{to:"/tutorial/i18n.html#uni-framework"}},[t._v("自定义扩展的语言")]),t._v("，遵循 BCP47 规范。")],1),t._v(" "),e("p",[e("strong",[t._v("参数说明")])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("参数名")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("类型")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("必填")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("locale")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("String")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("是")])])])]),t._v(" "),e("h2",{attrs:{id:"onlocalechange"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#onlocalechange"}},[t._v("#")]),t._v(" uni.onLocaleChange(callback)")]),t._v(" "),e("p",[t._v("用于监听应用语言切换")]),t._v(" "),e("p",[e("strong",[t._v("平台差异说明")])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[t._v("App")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("H5")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("微信小程序")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("支付宝小程序")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("百度小程序")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("抖音小程序、飞书小程序")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("QQ小程序")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("快手小程序")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("华为快应用")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("360小程序")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("京东小程序")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("元服务")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("小红书小程序")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("3.2.7+")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("3.2.7+")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("3.4.14+")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("3.4.14+")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("3.4.14+")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("3.4.14+")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("3.4.14+")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("3.4.14+")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("3.4.14+")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("3.4.14+")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("3.4.14+")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("x")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("√")])])])]),t._v(" "),e("h3",{attrs:{id:"onlocalechange-兼容性"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#onlocalechange-兼容性"}},[t._v("#")]),t._v(" onLocaleChange 兼容性")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("HarmonyOS")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("HBuilderX 4.23")])])])]),t._v(" "),e("p",[e("strong",[t._v("callback返回参数说明")])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("参数名")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("类型")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("locale")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("String")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("当前语言")])])])]),t._v(" "),e("h2",{attrs:{id:"注意事项"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#注意事项"}},[t._v("#")]),t._v(" 注意事项")]),t._v(" "),e("ul",[e("li",[t._v("组件和接口显示会根据设置的语言环境自动切换，未支持的系统语言环境会显示为英文。")]),t._v(" "),e("li",[t._v("App-Android、App-iOS 平台修改系统语言后会重启应用。")]),t._v(" "),e("li",[t._v("App-Android 平台设置新的语言后会自动重启应用。")]),t._v(" "),e("li",[t._v("框架内置如下语言，如需自定义内容或增加其他语言参考："),e("a",{attrs:{href:"https://uniapp.dcloud.io/collocation/i18n?id=uni-framework",target:"_blank",rel:"noopener noreferrer"}},[t._v("自定义国际化内容"),e("OutboundLink")],1),t._v("。\n"),e("ul",[e("li",[t._v("英语 en")]),t._v(" "),e("li",[t._v("中文简体 zh-Hans")]),t._v(" "),e("li",[t._v("繁体 zh-Hant")]),t._v(" "),e("li",[t._v("法语 fr")]),t._v(" "),e("li",[t._v("西班牙语 es")])])]),t._v(" "),e("li",[t._v("在 "),e("a",{attrs:{href:"/collocation/manifest"}},[t._v("manifest.json")]),t._v(" -> locale 可以配置应用的默认语言。")]),t._v(" "),e("li",[t._v("仅 3.1.5 - 3.2.4 版本会自动使用 vue-i18n 内配置的语言。")]),t._v(" "),e("li",[t._v("在小程序平台仅影响用户业务层（vue-i18n）的语言配置，不能影响小程序原生组件和接口的语言。")])]),t._v(" "),e("h2",{attrs:{id:"语言回退规则"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#语言回退规则"}},[t._v("#")]),t._v(" 语言回退规则")]),t._v(" "),e("p",[t._v("需要注意的是，语言的处理逻辑是建立在应用locale目录 配置了对应资源的前提下。 "),e("a",{attrs:{href:"https://uniapp.dcloud.net.cn/tutorial/i18n.html#vue%E7%95%8C%E9%9D%A2%E5%92%8Cjs%E5%86%85%E5%AE%B9%E7%9A%84%E5%9B%BD%E9%99%85%E5%8C%96",target:"_blank",rel:"noopener noreferrer"}},[t._v("资源配置文档"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("即")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("如果应用的 locale目录下配置了对应的资源，那么语言的设置和获取是一致的")])]),t._v(" "),e("li",[e("p",[t._v("如果应用的 locale目录没有配置对应的资源，则会根据具体的平台规则进行回退。")])])]),t._v(" "),e("p",[t._v("举个例子，应用中仅配置了英文和中文资源，没有配置日语资源，但是通过系统设置修改语言为日文，此时调用 "),e("code",[t._v("uni.getLocale()")]),t._v(" 在android平台上获取到的返回值不会是jp 而是en")])])}),[],!1,null,null,null);e.default=v.exports}}]);
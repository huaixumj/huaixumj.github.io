(window.webpackJsonp=window.webpackJsonp||[]).push([[509],{890:function(t,a,e){"use strict";e.r(a);var n=e(1),r=Object(n.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"unimp激励视频广告"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#unimp激励视频广告"}},[t._v("#")]),t._v(" uniMP激励视频广告")]),t._v(" "),a("h2",{attrs:{id:"简介"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[t._v("#")]),t._v(" 简介")]),t._v(" "),a("p",[t._v("通过App打开微信小程序播放激励视频广告")]),t._v(" "),a("p",[t._v("为了给开发者提供更高价格的广告，uni-ad 推出了高阶游戏广告预算。目前这种广告主预算只支持激励视频广告位")]),t._v(" "),a("p",[t._v("利用 uni-ad 多层调度策略动态调整渠道，在设备无广告时自动调整为其他广告渠道以增加广告填充率")]),t._v(" "),a("p",[a("video",{staticStyle:{"max-width":"100%","max-height":"50vh"},attrs:{controls:"",src:"https://qiniu-web-assets.dcloud.net.cn/unidoc/zh/uni-ad/ad-unimp.x264.mp4"}})]),t._v(" "),a("h2",{attrs:{id:"开通流程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#开通流程"}},[t._v("#")]),t._v(" 开通流程")]),t._v(" "),a("p",[a("code",[t._v("uniMP激励视频广告")]),t._v(" 支持已上架微信开放平台的应用和未上架的应用:")]),t._v(" "),a("ol",[a("li",[t._v("已上架微信开放平台的应用需要填写微信开放平台应用的 AppID，iOS平台需要填写通用链接")]),t._v(" "),a("li",[t._v("未上架微信开放平台的应用不需要填写微信开放平台应用的 AppID 和 iOS通用链接，且不支持以下功能")])]),t._v(" "),a("ul",[a("li",[t._v("跳转微信打开广告前有微信的二次确认框。")]),t._v(" "),a("li",[t._v("不支持从微信直接返回App，用户需要手动返回。")])]),t._v(" "),a("p",[a("strong",[t._v("上架微信开放平台")]),t._v("的流程如下:")]),t._v(" "),a("ol",[a("li",[t._v("确认应用已上架国内的任意应用市场(上架前需要提供软著,"),a("a",{attrs:{href:"https://market.aliyun.com/common/agents/yscdcloud?userCode=yp4pevgx#4",target:"_blank",rel:"noopener noreferrer"}},[t._v("点此前往"),a("OutboundLink")],1),t._v("加急办理软著登记), 微信开放平台需要已上架的应用下载地址")]),t._v(" "),a("li",[t._v("登录微信开放平台 "),a("a",{attrs:{href:"https://open.weixin.qq.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://open.weixin.qq.com/"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("在微信开放平台 "),a("code",[t._v("创建移动应用")]),t._v("，按照提示填写相关信息至完成。创建成功后会生成 "),a("code",[t._v("AppID")])]),t._v(" "),a("li",[t._v("确认在微信开放平台创建的应用状态为 "),a("code",[t._v("已上架")])])]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/uni-ad-unimp-open-weixin-status.png",alt:""}})]),t._v(" "),a("p",[a("strong",[t._v("激励视频开通步骤:")])]),t._v(" "),a("ol",[a("li",[t._v("登录 "),a("a",{attrs:{href:"https://uniad.dcloud.net.cn",target:"_blank",rel:"noopener noreferrer"}},[t._v("uni-ad 广告联盟"),a("OutboundLink")],1),t._v("，找到广告应用设置并点击 App广告 -> DCloud快捷广告 -> 申请开通")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/uni-ad-unimp-web-console-on.png",alt:""}})]),t._v(" "),a("ul",[a("li",[t._v("iOS 平台需要配置通用链接，配置通用链接后需要重新打包, "),a("a",{attrs:{href:"https://uniapp.dcloud.net.cn/api/plugins/universal-links.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("详情"),a("OutboundLink")],1)])]),t._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[a("p",[t._v("在广告位列表中点击新建广告位")])]),t._v(" "),a("li",[a("p",[t._v("激励视频广告位必须开启"),a("a",{attrs:{href:"https://uniapp.dcloud.net.cn/uni-ad/ad-rewarded-video.html#callback",target:"_blank",rel:"noopener noreferrer"}},[t._v("服务器回调"),a("OutboundLink")],1),t._v("，且回调测试请求响应正确的格式。")])])]),t._v(" "),a("p",[t._v("提示")]),t._v(" "),a("ul",[a("li",[t._v("通过监听广告组件的"),a("code",[t._v("@close")]),t._v("事件返回的 "),a("code",[t._v("isEnded")]),t._v(" 属性通知服务器用户是否看完广告，这种做法是不安全的，因为可以被攻击者模拟请求发送到服务器，造成没有看广告的假象。uniMP激励视频广告不在支持此方式，仅支持安全的"),a("a",{attrs:{href:"https://uniapp.dcloud.net.cn/component/ad-rewarded-video.html#callback",target:"_blank",rel:"noopener noreferrer"}},[t._v("服务器回调"),a("OutboundLink")],1),t._v("验证")]),t._v(" "),a("li",[t._v("开启服务器回调后，展开广告位左侧箭头并点击 "),a("code",[t._v("验证服务器回调")]),t._v(" 可测试服务器响应是否正常")])]),t._v(" "),a("p",[t._v("服务器回调响应数据格式")]),t._v(" "),a("p",[t._v("返回 JSON 对象，且包含 "),a("code",[t._v("isValid: true")])]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"isValid"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"_5-app"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-app"}},[t._v("#")]),t._v(" 5+ App")]),t._v(" "),a("p",[t._v("5+ App 支持 "),a("code",[t._v("uniMP激励视频广告")]),t._v("，开通流程和 "),a("code",[t._v("uni-app")]),t._v(" 一致，同时也需要开启服务器回调，开通服务器回调时填写业务服务器HTTP地址即可")]),t._v(" "),a("h2",{attrs:{id:"q-a"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#q-a"}},[t._v("#")]),t._v(" Q&A")]),t._v(" "),a("p",[t._v("Q: 为什么通过uni-ad接入跳转微信而不是开发者自行接入")]),t._v(" "),a("p",[t._v("A: uni-ad 多层调度策略动态调整渠道，在检测微信无广告时自动在一定时间整为其他广告渠道，不在跳转到微信，提示用户体验及增加广告填充率")]),t._v(" "),a("h2",{attrs:{id:"打包注意事项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#打包注意事项"}},[t._v("#")]),t._v(" 打包注意事项")]),t._v(" "),a("ul",[a("li",[t._v("HBuilderX 3.7.13+")]),t._v(" "),a("li",[t._v("在App打包界面 广告联盟 -> 勾选 "),a("code",[t._v("uniMP激励视频广告")])])]),t._v(" "),a("p",[t._v("注意："),a("code",[t._v("3.7.12")]),t._v(" 之前的版本首次开启此功能需要整包更新，"),a("code",[t._v("3.7.12")]),t._v("之后版本支持WGT热更新")])])}),[],!1,null,null,null);a.default=r.exports}}]);
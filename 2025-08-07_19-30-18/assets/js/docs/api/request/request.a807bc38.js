(window.webpackJsonp=window.webpackJsonp||[]).push([[79],{466:function(t,e,a){"use strict";a.r(e);var l=a(1),s=Object(l.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"request"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#request"}},[t._v("#")]),t._v(" uni.request(OBJECT)")]),t._v(" "),e("p",[t._v("发起网络请求。")]),t._v(" "),e("blockquote",[e("p",[t._v("在各个小程序平台运行时，网络相关的 API 在使用前需要配置域名白名单。")])]),t._v(" "),e("h3",{attrs:{id:"request-兼容性"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#request-兼容性"}},[t._v("#")]),t._v(" request 兼容性")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("HarmonyOS")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("HBuilderX 4.23")])])])]),t._v(" "),e("p",[e("strong",[t._v("OBJECT 参数说明")])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("参数名")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("类型")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("必填")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("默认值")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("说明")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("平台差异说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("url")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("String")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}}),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("开发者服务器接口地址")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}})]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("data")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Object/String/ArrayBuffer")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}}),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("请求的参数")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("App 3.3.7 以下不支持 ArrayBuffer 类型")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("header")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Object")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}}),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("设置请求的 header，header 中不能设置 Referer")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("App、H5端会自动带上cookie，且H5端不可手动修改")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("method")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("String")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("GET")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("有效值详见下方说明")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}})]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("timeout")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Number")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("60000")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("超时时间，单位 ms")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("H5(HBuilderX 2.9.9+)、APP(HBuilderX 2.9.9+)、微信小程序（2.10.0）、支付宝小程序")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("dataType")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("String")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("json")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("如果设为 json，会对返回的数据进行一次 JSON.parse，非 json 不会进行 JSON.parse")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}})]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("responseType")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("String")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("text")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("设置响应的数据类型。合法值：text、arraybuffer")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("支付宝小程序不支持")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("sslVerify")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Boolean")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("true")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("验证 ssl 证书")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("仅App安卓端支持（HBuilderX 2.3.3+），不支持离线打包")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("withCredentials")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Boolean")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("false")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("跨域请求时是否携带凭证（cookies）")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("仅H5支持（HBuilderX 2.6.15+）")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("firstIpv4")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Boolean")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("false")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("DNS解析时优先使用ipv4")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("仅 App-Android 支持 (HBuilderX 2.8.0+)")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("enableHttp2")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Boolean")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("false")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("开启 http2")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("微信小程序")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("enableQuic")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Boolean")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("false")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("开启 quic")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("微信小程序")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("enableCache")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Boolean")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("false")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("开启 cache")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("微信小程序、抖音小程序 2.31.0+")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("enableHttpDNS")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Boolean")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("false")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("是否开启 HttpDNS 服务。如开启，需要同时填入 httpDNSServiceId 。 HttpDNS 用法详见 "),e("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/framework/ability/HTTPDNS.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("移动解析HttpDNS"),e("OutboundLink")],1)]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("微信小程序")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("httpDNSServiceId")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("String")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}}),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("HttpDNS 服务商 Id。 HttpDNS 用法详见 "),e("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/framework/ability/HTTPDNS.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("移动解析HttpDNS"),e("OutboundLink")],1)]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("微信小程序")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("enableChunked")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Boolean")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("false")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("开启 transfer-encoding chunked")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("微信小程序")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("forceCellularNetwork")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Boolean")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("false")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("wifi下使用移动网络发送请求")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("微信小程序")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("enableCookie")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Boolean")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("false")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("开启后可在headers中编辑cookie")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("支付宝小程序 10.2.33+")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("cloudCache")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Object/Boolean")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("false")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("是否开启云加速（详见"),e("a",{attrs:{href:"https://smartprogram.baidu.com/docs/develop/extended/component-codeless/cloud-speed/introduction/",target:"_blank",rel:"noopener noreferrer"}},[t._v("云加速服务"),e("OutboundLink")],1),t._v("）")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("百度小程序 3.310.11+")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("defer")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Boolean")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("false")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("控制当前请求是否延时至首屏内容渲染后发送")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("百度小程序 3.310.11+")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("success")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Function")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}}),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("收到开发者服务器成功返回的回调函数")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}})]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("fail")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Function")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}}),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("接口调用失败的回调函数")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}})]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("complete")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Function")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}}),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("接口调用结束的回调函数（调用成功、失败都会执行）")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}})])])]),t._v(" "),e("p",[e("strong",[t._v("method 有效值")])]),t._v(" "),e("p",[t._v("注意：method有效值必须大写，每个平台支持的method有效值不同，详细见下表。")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[t._v("method")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("App")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("H5")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("微信小程序")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("支付宝小程序")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("百度小程序")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("抖音小程序、飞书小程序")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("快手小程序")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("京东小程序")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("GET")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("√")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("√")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("√")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("√")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("√")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("√")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("√")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("√")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("POST")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("√")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("√")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("√")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("√")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("√")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("√")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("√")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("√")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("PUT")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("√")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("√")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("√")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("x")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("√")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("√")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("x")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("x")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("DELETE")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("√")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("√")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("√")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("x")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("√")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("x")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("x")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("x")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("CONNECT")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("x")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("√")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("√")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("x")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("x")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("x")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("x")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("x")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("HEAD")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("√")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("√")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("√")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("x")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("√")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("x")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("x")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("x")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("OPTIONS")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("√")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("√")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("√")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("x")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("√")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("x")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("x")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("x")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("TRACE")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("x")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("√")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("√")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("x")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("x")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("x")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("x")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("x")])])])]),t._v(" "),e("p",[e("strong",[t._v("success 返回参数说明")])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("参数")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("类型")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("data")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Object/String/ArrayBuffer")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("开发者服务器返回的数据")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("statusCode")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Number")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("开发者服务器返回的 HTTP 状态码")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("header")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Object")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("开发者服务器返回的 HTTP Response Header")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("cookies")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("Array.<string>")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("开发者服务器返回的 cookies，格式为字符串数组")])])])]),t._v(" "),e("h3",{attrs:{id:"返回值"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#返回值"}},[t._v("#")]),t._v(" 返回值")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("类型")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("a",{attrs:{href:"#requesttask-values"}},[t._v("RequestTask")])])])])]),t._v(" "),e("h4",{attrs:{id:"requesttask-values"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#requesttask-values"}},[t._v("#")]),t._v(" RequestTask 的方法 ")]),t._v(" "),e("h4",{attrs:{id:"abort"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#abort"}},[t._v("#")]),t._v(" abort(): void ")]),t._v(" "),e("p",[t._v("中断网络请求。")]),t._v(" "),e("h5",{attrs:{id:"abort-兼容性"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#abort-兼容性"}},[t._v("#")]),t._v(" abort 兼容性")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("HarmonyOS")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("HBuilderX 4.23")])])])]),t._v(" "),e("h4",{attrs:{id:"onchunkreceived"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#onchunkreceived"}},[t._v("#")]),t._v(" onChunkReceived(listener: RequestTaskOnChunkReceivedCallback): number ")]),t._v(" "),e("p",[t._v("监听 Transfer-Encoding Chunk Received 事件。")]),t._v(" "),e("h5",{attrs:{id:"onchunkreceived-兼容性"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#onchunkreceived-兼容性"}},[t._v("#")]),t._v(" onChunkReceived 兼容性")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("HarmonyOS")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("HBuilderX 4.71")])])])]),t._v(" "),e("h5",{attrs:{id:"parameters-harmony-compatibility"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#parameters-harmony-compatibility"}},[t._v("#")]),t._v(" 参数 HarmonyOS 兼容性 ")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("名称")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("类型")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("必填")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("默认值")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("兼容性")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("描述")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("listener")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("(result: "),e("a",{attrs:{href:"#requesttaskonchunkreceivedlistenerresult-values"}},[t._v("RequestTaskOnChunkReceivedListenerResult")]),t._v(") => void")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("-")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("-")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("-")])])])]),t._v(" "),e("h5",{attrs:{id:"requesttaskonchunkreceivedlistenerresult-values"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#requesttaskonchunkreceivedlistenerresult-values"}},[t._v("#")]),t._v(" RequestTaskOnChunkReceivedListenerResult 的属性值 ")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("名称")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("类型")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("必填")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("默认值")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("兼容性")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("描述")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("data")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/arraybuffer",target:"_blank",rel:"noopener noreferrer"}},[t._v("ArrayBuffer"),e("OutboundLink")],1)]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("-")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("CompatibilityTable",{attrs:{table:'{"headers":[{"title":"HarmonyOS"}],"rows":[["HBuilderX 4.71"]]}'}})],1),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("返回的chunk buffer")])])])]),t._v(" "),e("h5",{attrs:{id:"返回值-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#返回值-2"}},[t._v("#")]),t._v(" 返回值")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("类型")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("number")])])])]),t._v(" "),e("h4",{attrs:{id:"offchunkreceived"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#offchunkreceived"}},[t._v("#")]),t._v(" offChunkReceived(listener ?: number | RequestTaskOnChunkReceivedCallback | null): void ")]),t._v(" "),e("p",[t._v("移除 Transfer-Encoding Chunk Received 事件的监听函数。")]),t._v(" "),e("h5",{attrs:{id:"offchunkreceived-兼容性"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#offchunkreceived-兼容性"}},[t._v("#")]),t._v(" offChunkReceived 兼容性")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("HarmonyOS")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("HBuilderX 4.71")])])])]),t._v(" "),e("h5",{attrs:{id:"parameters-harmony-compatibility-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#parameters-harmony-compatibility-2"}},[t._v("#")]),t._v(" 参数 HarmonyOS 兼容性 ")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("名称")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("类型")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("必填")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("默认值")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("兼容性")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("描述")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("listener")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("number | (result: "),e("a",{attrs:{href:"#requesttaskonchunkreceivedlistenerresult-values"}},[t._v("RequestTaskOnChunkReceivedListenerResult")]),t._v(") => void")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("-")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("-")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("-")])])])]),t._v(" "),e("h4",{attrs:{id:"onheadersreceived"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#onheadersreceived"}},[t._v("#")]),t._v(" onHeadersReceived(listener: RequestTaskOnHeadersReceivedCallback): number ")]),t._v(" "),e("p",[t._v("监听 HTTP Response Header 事件。")]),t._v(" "),e("h5",{attrs:{id:"onheadersreceived-兼容性"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#onheadersreceived-兼容性"}},[t._v("#")]),t._v(" onHeadersReceived 兼容性")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("HarmonyOS")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("HBuilderX 4.71")])])])]),t._v(" "),e("h5",{attrs:{id:"parameters-harmony-compatibility-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#parameters-harmony-compatibility-3"}},[t._v("#")]),t._v(" 参数 HarmonyOS 兼容性 ")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("名称")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("类型")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("必填")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("默认值")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("兼容性")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("描述")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("listener")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("(result: "),e("a",{attrs:{href:"#requesttaskonheadersreceivedlistenerresult-values"}},[t._v("RequestTaskOnHeadersReceivedListenerResult")]),t._v(") => void")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("-")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("-")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("HTTP Response Header 事件的监听函数")])])])]),t._v(" "),e("h5",{attrs:{id:"requesttaskonheadersreceivedlistenerresult-values"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#requesttaskonheadersreceivedlistenerresult-values"}},[t._v("#")]),t._v(" RequestTaskOnHeadersReceivedListenerResult 的属性值 ")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("名称")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("类型")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("必填")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("默认值")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("兼容性")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("描述")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("cookies")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Array<string>")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("-")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("CompatibilityTable",{attrs:{table:'{"headers":[{"title":"HarmonyOS"}],"rows":[["HBuilderX 4.71"]]}'}})],1),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("开发者服务器返回的 cookies，格式为字符串数组")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("header")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("RouterLink",{attrs:{to:"/uts/buildin-object-api/utsjsonobject.html"}},[t._v("UTSJSONObject")])],1),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("-")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("CompatibilityTable",{attrs:{table:'{"headers":[{"title":"HarmonyOS"}],"rows":[["HBuilderX 4.71"]]}'}})],1),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("开发者服务器返回的 HTTP Response Header")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("statusCode")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("number")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("-")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("CompatibilityTable",{attrs:{table:'{"headers":[{"title":"HarmonyOS"}],"rows":[["HBuilderX 4.71"]]}'}})],1),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("开发者服务器返回的 HTTP 状态码 （目前开发者工具上不会返回 statusCode 字段，可用真机查看该字段，后续将会支持）")])])])]),t._v(" "),e("h5",{attrs:{id:"返回值-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#返回值-3"}},[t._v("#")]),t._v(" 返回值")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("类型")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("number")])])])]),t._v(" "),e("h4",{attrs:{id:"offheadersreceived"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#offheadersreceived"}},[t._v("#")]),t._v(" offHeadersReceived(listener ?: number | RequestTaskOnHeadersReceivedCallback | null): void ")]),t._v(" "),e("p",[t._v("移除 HTTP Response Header 事件的监听函数。")]),t._v(" "),e("h5",{attrs:{id:"offheadersreceived-兼容性"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#offheadersreceived-兼容性"}},[t._v("#")]),t._v(" offHeadersReceived 兼容性")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("HarmonyOS")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("HBuilderX 4.71")])])])]),t._v(" "),e("h5",{attrs:{id:"parameters-harmony-compatibility-4"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#parameters-harmony-compatibility-4"}},[t._v("#")]),t._v(" 参数 HarmonyOS 兼容性 ")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("名称")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("类型")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("必填")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("默认值")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("兼容性")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("描述")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("listener")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("number | (result: "),e("a",{attrs:{href:"#requesttaskonheadersreceivedlistenerresult-values"}},[t._v("RequestTaskOnHeadersReceivedListenerResult")]),t._v(") => void")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("-")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("-")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("-")])])])]),t._v(" "),e("p",[e("strong",[t._v("data 数据说明")])]),t._v(" "),e("p",[t._v("最终发送给服务器的数据是 String 类型，如果传入的 data 不是 String 类型，会被转换成 String。转换规则如下：")]),t._v(" "),e("ul",[e("li",[t._v("对于 "),e("code",[t._v("GET")]),t._v(" 方法，会将数据转换为 query string。例如 "),e("code",[t._v("{ name: 'name', age: 18 }")]),t._v(" 转换后的结果是 "),e("code",[t._v("name=name&age=18")]),t._v("。")]),t._v(" "),e("li",[t._v("对于 "),e("code",[t._v("POST")]),t._v(" 方法且 "),e("code",[t._v("header['content-type']")]),t._v(" 为 "),e("code",[t._v("application/json")]),t._v(" 的数据，会进行 JSON 序列化。")]),t._v(" "),e("li",[t._v("对于 "),e("code",[t._v("POST")]),t._v(" 方法且 "),e("code",[t._v("header['content-type']")]),t._v(" 为 "),e("code",[t._v("application/x-www-form-urlencoded")]),t._v(" 的数据，会将数据转换为 query string。")])]),t._v(" "),e("p",[e("strong",[t._v("示例")])]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[t._v("uni"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("request")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("url")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://www.example.com/request'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//仅为示例，并非真实接口地址。")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("data")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("text")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'uni.request'")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("header")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'custom-header'")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//自定义请求头信息")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("success")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("text "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'request success'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[e("strong",[t._v("返回值")])]),t._v(" "),e("p",[t._v("如果希望返回一个 "),e("code",[t._v("requestTask")]),t._v(" 对象，需要至少传入 success / fail / complete 参数中的一个。例如：")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" requestTask "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" uni"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("request")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("url")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://www.example.com/request'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//仅为示例，并非真实接口地址。")]),t._v("\n\t"),e("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("complete")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nrequestTask"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("abort")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("如果没有传入 success / fail / complete 参数，则会返回封装后的 Promise 对象："),e("RouterLink",{attrs:{to:"/api/index.html#promise-封装"}},[t._v("Promise 封装")])],1),t._v(" "),e("p",[t._v("通过 "),e("code",[t._v("requestTask")]),t._v("，可中断请求任务。")]),t._v(" "),e("p",[e("strong",[t._v("requestTask 对象的方法列表")])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("方法")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("参数")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("abort")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}}),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("中断请求任务")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("offHeadersReceived")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}}),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("取消监听 HTTP Response Header 事件，仅"),e("code",[t._v("微信小程序平台")]),t._v("支持，"),e("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/api/RequestTask.offHeadersReceived.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("文档详情"),e("OutboundLink")],1)])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("onHeadersReceived")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}}),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("监听 HTTP Response Header 事件。会比请求完成事件更早，仅"),e("code",[t._v("微信小程序平台")]),t._v("支持，"),e("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/api/RequestTask.onHeadersReceived.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("文档详情"),e("OutboundLink")],1)])])])]),t._v(" "),e("p",[e("strong",[t._v("示例")])]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" requestTask "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" uni"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("request")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("url")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://www.example.com/request'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//仅为示例，并非真实接口地址。")]),t._v("\n\t"),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("data")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'name'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("age")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),t._v("\n\t"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),e("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("success")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\tconsole"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 中断请求任务")]),t._v("\nrequestTask"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("abort")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[e("strong",[t._v("Tips")])]),t._v(" "),e("ul",[e("li",[t._v("请求的 "),e("code",[t._v("header")]),t._v(" 中 "),e("code",[t._v("content-type")]),t._v(" 默认为 "),e("code",[t._v("application/json")]),t._v("。")]),t._v(" "),e("li",[t._v("避免在 "),e("code",[t._v("header")]),t._v(" 中使用中文，或者使用 encodeURIComponent 进行编码，否则在百度小程序报错。（来自："),e("a",{attrs:{href:"https://juejin.im/user/2612095359650712",target:"_blank",rel:"noopener noreferrer"}},[t._v("快狗打车前端团队"),e("OutboundLink")],1),t._v("）")]),t._v(" "),e("li",[t._v("网络请求的 "),e("code",[t._v("超时时间")]),t._v(" 可以统一在 "),e("code",[t._v("manifest.json")]),t._v(" 中配置 "),e("a",{attrs:{href:"/collocation/manifest#networktimeout"}},[t._v("networkTimeout")]),t._v("。")]),t._v(" "),e("li",[t._v("H5 端本地调试需注意跨域问题，参考："),e("a",{attrs:{href:"https://ask.dcloud.net.cn/article/35267",target:"_blank",rel:"noopener noreferrer"}},[t._v("调试跨域问题解决方案"),e("OutboundLink")],1)]),t._v(" "),e("li",[t._v("注意由于百度小程序iOS客户端，请求失败时会进入fail回调，需要针对百度增加相应的处理以解决该问题。")]),t._v(" "),e("li",[t._v("注意小程序端不支持自动保持 cookie，服务器应避免验证 cookie。如果服务器无法修改，也可以使用一些模拟手段，比如这样的工具"),e("a",{attrs:{href:"https://github.com/charleslo1/weapp-cookie",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/charleslo1/weapp-cookie"),e("OutboundLink")],1),t._v(" 可以请求时带上 cookie 并将响应的 cookie 保存在本地。")]),t._v(" "),e("li",[t._v("H5端 cookie 受跨域限制（和平时开发网站时一样），旧版的 uni.request 未支持 withCredentials 配置，可以直接使用 xhr 对象或者其他类库。")]),t._v(" "),e("li",[t._v("根据 W3C 规范，H5 端无法获取 response header 中 Set-Cookie、Set-Cookie2 这2个字段，对于跨域请求，允许获取的 response header 字段只限于“simple response header”和“Access-Control-Expose-Headers”（"),e("a",{attrs:{href:"https://www.w3.org/TR/cors/#access-control-allow-credentials-response-header",target:"_blank",rel:"noopener noreferrer"}},[t._v("详情"),e("OutboundLink")],1),t._v("）")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://ext.dcloud.net.cn/search?q=%E6%8B%A6%E6%88%AA%E5%99%A8",target:"_blank",rel:"noopener noreferrer"}},[t._v("uni-app 插件市场"),e("OutboundLink")],1),t._v("有flyio、axios等三方封装的拦截器可用")]),t._v(" "),e("li",[t._v("低版本手机自身不支持 ipv6，如果服务器仅允许 ipv6，会导致老手机无法正常运行或访问速度非常慢")]),t._v(" "),e("li",[t._v("localhost、127.0.0.1等服务器地址，只能在电脑端运行，手机端连接时不能访问。请使用标准IP并保证手机能连接电脑网络")]),t._v(" "),e("li",[t._v("debug 模式，安卓端暂时无法获取响应头，url中含有非法字符（如未编码为%20的空格）时会请求失败")]),t._v(" "),e("li",[t._v("iOS App第一次安装启动后，会弹出是否允许联网的询问框，在用户点击同意前，调用联网API会失败。请注意判断这种情况。比如官方提供的新闻模板示例（HBuilderX新建项目可选择），会判断如果无法联网，则提供一个错误页，提示用户设置网络及下拉刷新重试。")]),t._v(" "),e("li",[t._v("良好体验的App，还会判断当前是否处于飞行模式（"),e("a",{attrs:{href:"https://ext.dcloud.net.cn/plugin?id=594",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考"),e("OutboundLink")],1),t._v("）、是wifi还是3G（"),e("a",{attrs:{href:"https://uniapp.dcloud.io/api/system/network",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考"),e("OutboundLink")],1),t._v("）")]),t._v(" "),e("li",[t._v("部分安卓设备，真机运行或debug模式下的网速，低于release模式很多。")]),t._v(" "),e("li",[t._v("使用一些比较小众的证书机构（如：CFCA OV OCA）签发的 ssl 证书在安卓设备请求会失败，因为这些机构的根证书不在系统内置根证书库，可以更换其他常见机构签发的证书（如：Let's Encrypt），或者配置 sslVerify 为 false 关闭 ssl 证书验证（不推荐）。")]),t._v(" "),e("li",[t._v("离线打包不支持 "),e("code",[t._v("sslVerify")]),t._v(" 配置")]),t._v(" "),e("li",[t._v("单次网络请求数据量建议控制在50K以下（仅指json数据，不含图片），过多数据应分页获取，以提升应用体验。")])]),t._v(" "),e("h2",{attrs:{id:"configmtls"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#configmtls"}},[t._v("#")]),t._v(" uni.configMTLS(OBJECT)")]),t._v(" "),e("p",[t._v("https 请求配置自签名证书")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[t._v("App")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("HarmonyOS Next")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("H5")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("微信小程序")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("支付宝小程序")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("百度小程序")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("抖音小程序、飞书小程序")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("QQ小程序")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("快手小程序")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("京东小程序")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("√"),e("code",[t._v("(3.2.7+)")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("x")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("x")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("x")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("x")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("x")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("x")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("x")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("x")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("x")])])])]),t._v(" "),e("p",[e("strong",[t._v("OBJECT 参数说明")])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("参数")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("类型")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("必填")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("certificates")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Array<"),e("code",[t._v("certificate")]),t._v(">")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("certificates")]),t._v(" 为数组，支持为多个域名配置自签名证书")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("success")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Function("),e("code",[t._v("callbackObject")]),t._v(")")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("接口调用成功的回调函数")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("fail")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Function("),e("code",[t._v("callbackObject")]),t._v(")")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("接口调用失败的回调函数")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("complete")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Function")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("接口调用结束的回调函数（调用成功、失败都会执行）")])])])]),t._v(" "),e("p",[e("strong",[t._v("certificate 参数说明")]),t._v("\n证书配置项")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("参数")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("类型")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("必填")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("host")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("对应请求的域名（注意：不要协议部分）")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("client")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("客户端证书（服务器端需要验证客户端证书时需要配置此项，格式要求请参考下面的证书格式说明，注意 "),e("code",[t._v("iOS")]),t._v(" 平台客户端证书只支持 "),e("code",[t._v(".p12")]),t._v(" 类型的证书。HarmonyOS Next 上是证书路径 "),e("a",{attrs:{href:"https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-http-V5#clientcert11?ha_source=Dcloud&ha_sourceId=89000448",target:"_blank",rel:"noopener noreferrer"}},[t._v("文档"),e("OutboundLink")],1),t._v("）")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("keyPath")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("证书秘钥的路径，只支持 HarmonyOS Next (HBuilderX 4.31)")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("clientPassword")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("客户端证书对应的密码（客户端证书存在时必须配置此项。HarmonyOS Next 上是证书秘钥的密码 "),e("a",{attrs:{href:"https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/js-apis-http-V5#clientcert11?ha_source=Dcloud&ha_sourceId=89000448",target:"_blank",rel:"noopener noreferrer"}},[t._v("文档"),e("OutboundLink")],1),t._v("）")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("server")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Array<string>")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("服务器端证书（客户端需要对服务器端证书做校验时需要配置此项，通常使用自签名证书时才需要配置，格式要求请参考下面的证书格式说明，注意 "),e("code",[t._v("iOS")]),t._v(" 平台服务器端证书只支持 "),e("code",[t._v(".cer")]),t._v(" 类型的证书，不仅仅验证公钥，还要验证整个证书链，请保证证书的完整性。HarmonyOS Next 不支持）")])])])]),t._v(" "),e("p",[e("strong",[t._v("证书格式说明")])]),t._v(" "),e("p",[t._v("证书支持两种格式，文件格式和 Base64字符串格式")]),t._v(" "),e("ol",[e("li",[t._v("文件格式说明：可将证书文件放到工程的 ‘static’ 目录中（当然也可以通过请求下载到本地），然后填写文件路径，示例："),e("code",[t._v("'/static/client.p12'")])]),t._v(" "),e("li",[e("code",[t._v("Base64String")]),t._v("格式说明：将证书文件的二进制转换为 "),e("code",[t._v("Base64String")]),t._v(" 字符串，然后在字符串前面添加"),e("code",[t._v("'data:cert/pem;base64,'")]),t._v("前缀，示例："),e("code",[t._v("'data:cert/pem;base64,xxx'")]),t._v(" xxx 代表真实的证书 base64String")])]),t._v(" "),e("p",[e("strong",[t._v("callbackObject 参数说明")])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("属性")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("类型")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("code")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Number")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("成功返回 0,失败返回相应 code 码")])])])]),t._v(" "),e("p",[e("strong",[t._v("示例")])]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("uni"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("configMTLS")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("certificates")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'host'")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'www.test.com'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'client'")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/static/client.p12'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'clientPassword'")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'123456789'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'server'")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/static/server.cer'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("success")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("code"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])])}),[],!1,null,null,null);e.default=s.exports}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[512],{896:function(t,n,e){"use strict";e.r(n);var s=e(1),u=Object(s.a)({},(function(){var t=this,n=t._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("p",[n("code",[t._v("uni-push")]),t._v(" 需要在 "),n("a",{attrs:{href:"https://dev.dcloud.net.cn",target:"_blank",rel:"noopener noreferrer"}},[t._v("开发者中心"),n("OutboundLink")],1),t._v(" 申请开通后，方可使用。"),n("code",[t._v("uni-push 1.0")]),t._v("和"),n("code",[t._v("uni-push 2.0")]),t._v("开通方式基本一致，本文以"),n("code",[t._v("uni-push 2.0")]),t._v("为例进行说明。")]),t._v(" "),n("p",[n("strong",[t._v("Tips:")]),t._v(" 目前只有应用所有者可以操作"),n("code",[t._v("uni-push")]),t._v("。应用协作者暂不支持。")]),t._v(" "),n("h2",{attrs:{id:"uni-push配置页面"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#uni-push配置页面"}},[t._v("#")]),t._v(" "),n("code",[t._v("uni-push")]),t._v("配置页面")]),t._v(" "),n("p",[t._v("开发者可以通过以下方式进入"),n("code",[t._v("uni-push")]),t._v("配置页面：")]),t._v(" "),n("ol",[n("li",[t._v("通过开发者中心进入")]),t._v(" "),n("li",[t._v("通过 HBuilderX 进入")])]),t._v(" "),n("div",{staticClass:"custom-block warning"},[n("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),n("p",[n("code",[t._v("uni-app")]),t._v("项目支持以上两种方式，"),n("code",[t._v("uni-app x")]),t._v("项目目前只支持方式1进入配置页面。")])]),t._v(" "),n("h3",{attrs:{id:"通过开发者中心进入"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#通过开发者中心进入"}},[t._v("#")]),t._v(" 通过开发者中心进入")]),t._v(" "),n("ol",[n("li",[n("p",[t._v("使用 DCloud 账号登录 "),n("a",{attrs:{href:"https://dev.dcloud.net.cn",target:"_blank",rel:"noopener noreferrer"}},[t._v("开发者中心"),n("OutboundLink")],1),t._v(" ，登录后会进入“我的应用”列表，在列表中可以看到各应用的"),n("code",[t._v("uni-push")]),t._v("开通状态。")])]),t._v(" "),n("li",[n("p",[t._v("在左侧菜单点击“uni-push”，然后选择 1.0或2.0，进入"),n("code",[t._v("uni-push")]),t._v("信息页，左上角显示为当前要操作的应用，点击可以切换应用。如下图所示：\n"),n("img",{attrs:{src:"https://qiniu-web-assets.dcloud.net.cn/unidoc/zh/uniPush2-info.jpg",alt:"",loading:"lazy"}})])])]),t._v(" "),n("p",[n("strong",[t._v("注意：")]),t._v(" 1.0和2.0的配置页面信息略有不同，2.0开通时需要绑定服务空间，1.0不需要。")]),t._v(" "),n("h3",{attrs:{id:"通过-hbuilderx-进入"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#通过-hbuilderx-进入"}},[t._v("#")]),t._v(" 通过 HBuilderX 进入")]),t._v(" "),n("p",[t._v("打开 HBuilderX，双击项目中的 “manifest.json” 文件，选择“安卓/iOS模块配置”，在配置页面中向下找到“Push(消息推送)”，勾选后，点击相应版本的配置链接，即可进入 "),n("code",[t._v("uni-push")]),t._v(" 配置页面。如下图所示：\n"),n("img",{attrs:{src:"https://web-ext-storage.dcloud.net.cn/doc/uni-push/hx-push-config.png",alt:"HX开通示例",loading:"lazy"}})]),t._v(" "),n("h3",{attrs:{id:"首次开通-uni-push"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#首次开通-uni-push"}},[t._v("#")]),t._v(" 首次开通 "),n("code",[t._v("uni-push")])]),t._v(" "),n("blockquote",[n("p",[t._v("按照国家法律要求，所有提供云服务的公司在用户使用云服务时都需要验证手机号。"),n("RouterLink",{attrs:{to:"/dev/account/modify.html#verify-phone"}},[t._v("查看如何验证手机号")])],1)]),t._v(" "),n("p",[t._v("用户初次开通 "),n("code",[t._v("uni-push")]),t._v(" 时，需要向个推同步手机号信息（DCloud开发者无需再注册个推账户），请参考页面提示信息完成业务开通。\n"),n("img",{attrs:{src:"https://web-ext-storage.dcloud.net.cn/doc/uni-push/create-account.png",alt:"",loading:"lazy"}})]),t._v(" "),n("h3",{attrs:{id:"填写应用信息"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#填写应用信息"}},[t._v("#")]),t._v(" 填写应用信息")]),t._v(" "),n("p",[t._v("应用开通"),n("code",[t._v("uni-push")]),t._v("功能时，需要提交应用相关信息，如下图所示：\n"),n("img",{attrs:{src:"https://qiniu-web-assets.dcloud.net.cn/unidoc/zh/uniPush2-info.jpg",alt:"",loading:"lazy"}})]),t._v(" "),n("p",[t._v("关联服务空间说明："),n("code",[t._v("uni-push 2.0")]),t._v("需要开发者开通uniCloud。不管您的业务服务器是否使用uniCloud，但专业推送服务器在uniCloud上。")]),t._v(" "),n("ul",[n("li",[t._v("如果您的后台业务使用uniCloud开发，那理解比较简单。")]),t._v(" "),n("li",[t._v("如果您的后台业务没有使用uniCloud，那么也需要在uni-app项目中创建uniCloud环境，在HBuilderX中和dev的uni-push配置中均绑定相同服务空间，之前的业务仍然由客户端连接原有传统服务器，push相关功能则通过uniCloud服务空间实现。如果您之前使用过三方推送服务的话，可以理解为您的服务器不再调用个推服务器，而是改为调用uniCloud服务空间。")])]),t._v(" "),n("p",[t._v("在uniCloud的云函数中，加载扩展库 "),n("code",[t._v("uni-cloud-push")]),t._v("，直接调用相关API，无需额外的服务端配置。而传统服务器开发者需要把这个"),n("a",{attrs:{href:"https://uniapp.dcloud.io/uniCloud/http.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("云函数URL化"),n("OutboundLink")],1),t._v("后变成http接口，再由原来的php或java代码调用这个http接口。")]),t._v(" "),n("div",{staticClass:"custom-block warning"},[n("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("Android包名、签名（SHA1指纹）")]),t._v("或"),n("code",[t._v("iOS Bundle ID")]),t._v("，必须确保与客户端manifest.json配置的证书相关信息一致，否则可能会导致无法正常打包或收到推送消息。")]),t._v(" "),n("li",[t._v("如需修改包名、应用签名等信息，请在“应用详情”-“各平台信息”中进行修改。")])])]),t._v(" "),n("p",[t._v("开通App的完整流程较多，但开通web和小程序的流程比较简单，即开即用。可以快速将uni-app项目运行到浏览器或小程序体验。")]),t._v(" "),n("p",[t._v("参考资料：")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://ask.dcloud.net.cn/article/35985#server",target:"_blank",rel:"noopener noreferrer"}},[t._v("关于Android证书"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://ask.dcloud.net.cn/article/152",target:"_blank",rel:"noopener noreferrer"}},[t._v("iOS证书申请"),n("OutboundLink")],1)])]),t._v(" "),n("h3",{attrs:{id:"修改应用信息"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#修改应用信息"}},[t._v("#")]),t._v(" 修改应用信息")]),t._v(" "),n("p",[n("code",[t._v("uni-push")]),t._v("开通完成后，后续仍可以在配置页面修改应用相关信息。")]),t._v(" "),n("h3",{attrs:{id:"关闭uni-push"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#关闭uni-push"}},[t._v("#")]),t._v(" 关闭"),n("code",[t._v("uni-push")])]),t._v(" "),n("p",[t._v("当应用不再使用"),n("code",[t._v("uni-push")]),t._v("时，可在配置页面关闭该功能。")]),t._v(" "),n("h3",{attrs:{id:"other-config"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#other-config"}},[t._v("#")]),t._v(" 其它配置")]),t._v(" "),n("ul",[n("li",[t._v("iOS 平台还需要上传专用的推送证书\n"),n("ul",[n("li",[t._v("证书申请：如何获取推送证书请参考个推官方文档教程 "),n("a",{attrs:{href:"https://docs.getui.com/getui/mobile/ios/apns/",target:"_blank",rel:"noopener noreferrer"}},[t._v("iOS证书配置指南"),n("OutboundLink")],1)]),t._v(" "),n("li",[t._v("证书上传入口：消息推送-“配置管理”-“应用配置”\n"),n("img",{attrs:{src:"https://img-cdn-aliyun.dcloud.net.cn/uni-app/doc/dev/ios.png",alt:""}})])])]),t._v(" "),n("li",[t._v("APP手机厂商推送参数设置（可选，应用进程离线时推送通道）\n"),n("img",{attrs:{src:"https://img-cdn-aliyun.dcloud.net.cn/uni-app/doc/dev/20220728173149.png",alt:""}}),t._v("\nuni-push集成并统一了各个手机厂商的系统级推送，目前支持魅族、OPPO、华为、小米、VIVO。如果需要使用厂商推送，需要先在各厂商开发者平台申请。详见"),n("a",{attrs:{href:"https://www.dcloud.io/docs/a/unipush/manufacturer.pdf",target:"_blank",rel:"noopener noreferrer"}},[t._v("厂商推送应用创建配置流程"),n("OutboundLink")],1)])]),t._v(" "),n("h2",{attrs:{id:"云端打包"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#云端打包"}},[t._v("#")]),t._v(" 云端打包")]),t._v(" "),n("p",[t._v("应用开通"),n("code",[t._v("uni-push")]),t._v("功能以后，只需要在 HBuilderX 中打开"),n("code",[t._v("manifest.json")]),t._v("，选择“安卓/iOS模块配置”，在配置页面向下找到推送功能配置，勾选“Push(消息推送)”，然后再选择相应的"),n("code",[t._v("uni-push")]),t._v("版本即可。")]),t._v(" "),n("p",[n("strong",[t._v("注意：")]),t._v(" "),n("code",[t._v("uni-app x")]),t._v("项目通过编译摇树来控制是否开启"),n("code",[t._v("uni-push")]),t._v("，开发者无需手动开启。")]),t._v(" "),n("h2",{attrs:{id:"使用推送"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#使用推送"}},[t._v("#")]),t._v(" 使用推送")]),t._v(" "),n("p",[t._v("推送使用方法，参考文档")]),t._v(" "),n("ul",[n("li",[n("RouterLink",{attrs:{to:"/unipush-v2.html"}},[t._v("uni-push 2.0")])],1),t._v(" "),n("li",[n("RouterLink",{attrs:{to:"/unipush-v1.html"}},[t._v("uni-push 1.0")])],1)])])}),[],!1,null,null,null);n.default=u.exports}}]);
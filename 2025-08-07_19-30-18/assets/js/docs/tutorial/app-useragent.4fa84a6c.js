(window.webpackJsonp=window.webpackJsonp||[]).push([[383],{768:function(t,e,a){"use strict";a.r(e);var s=a(1),n=Object(s.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("p",[t._v("用户代理（User Agent，简称 UA），是http/https网络请求头中的一个特殊字符串，使服务器能够识别客户端使用的操作系统及版本、浏览器渲染引擎、内核版本等信息。uni-app中的vue页面使用系统Webview渲染，为了保持一致，App端所有http/https网络请求头使用统一的User Agent。"),e("br"),t._v("\nAPI包括"),e("a",{attrs:{href:"https://uniapp.dcloud.net.cn/api/request/request.html#request",target:"_blank",rel:"noopener noreferrer"}},[t._v("uni.request"),e("OutboundLink")],1),t._v("、"),e("a",{attrs:{href:"https://uniapp.dcloud.net.cn/api/request/network-file.html#uploadfile",target:"_blank",rel:"noopener noreferrer"}},[t._v("uni.uploadFile"),e("OutboundLink")],1),t._v("、"),e("a",{attrs:{href:"https://uniapp.dcloud.net.cn/api/request/network-file.html#downloadfile",target:"_blank",rel:"noopener noreferrer"}},[t._v("uni.downloadFile"),e("OutboundLink")],1),t._v("等"),e("br"),t._v("\n组件包括"),e("a",{attrs:{href:"https://uniapp.dcloud.net.cn/component/image.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("image"),e("OutboundLink")],1),t._v("、"),e("a",{attrs:{href:"https://uniapp.dcloud.net.cn/component/web-view.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("web-view"),e("OutboundLink")],1),t._v("等。")]),t._v(" "),e("h3",{attrs:{id:"默认user-agent"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#默认user-agent"}},[t._v("#")]),t._v(" 默认User Agent")]),t._v(" "),e("p",[t._v("默认情况使用系统Webview的User Agent，并添加Html5Plus/1.0、uni-app两字段")]),t._v(" "),e("ul",[e("li",[t._v("Android平台，在荣耀Play4T手机上默认值为：")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("Mozilla/5.0 (Linux; Android 10; AKA-AL10 Build/HONORAKA-AL10; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/88.0.4324.93 Mobile Safari/537.36 uni-app Html5Plus/1.0 (Immersed/34.5)\n")])])]),e("p",[t._v("使用"),e("a",{attrs:{href:"https://uniapp.dcloud.net.cn/tutorial/app-android-x5.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Android X5 Webview(腾讯TBS)"),e("OutboundLink")],1),t._v("，则在X5的User Agent后添加Html5Plus/1.0、uni-app字段：")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("Mozilla/5.0 (Linux; Android 10; AKA-AL10 Build/HONORAKA-AL10; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/77.0.3865.120 MQQBrowser/6.2 TBS/045738 uni-app Html5Plus/1.0 (Immersed/34.5)\n")])])]),e("ul",[e("li",[t._v("iOS平台，在iPhone 12手机上默认值为：")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("Mozilla/5.0 (iPhone; CPU iPhone OS 15_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E148 Html5Plus/1.0 (Immersed/20) uni-app\n")])])]),e("h3",{attrs:{id:"自定义user-agent"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#自定义user-agent"}},[t._v("#")]),t._v(" 自定义User Agent")]),t._v(" "),e("p",[t._v('如需自定义User Agent，在项目的 manifest.json 中 "app-plus" -> "useragent" 进行配置，支持以下属性：')]),t._v(" "),e("ul",[e("li",[t._v("value"),e("br"),t._v("\n字符串类型，表示要添加的自定义User Agent值")]),t._v(" "),e("li",[t._v("concatenate"),e("br"),t._v("\nboolean类型， true表示在默认User Agent基础上添加额外字段，false表示替换默认User Agent")])]),t._v(" "),e("p",[t._v("注意：")]),t._v(" "),e("ul",[e("li",[t._v('如需单独定义Android平台的User Agent，可设置"useragent_android"，在Android平台存在"useragent_android"时会覆盖"useragent"配置')]),t._v(" "),e("li",[t._v('如需单独定义iOS平台的User Agent，可设置"useragent_ios"，在iOS平台存在"useragent_ios"时会覆盖"useragent"配置')]),t._v(" "),e("li",[t._v("配置自定义User Agent后需提交云端打包才能生效")])]),t._v(" "),e("h4",{attrs:{id:"在默认user-agent中添加额外字段"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#在默认user-agent中添加额外字段"}},[t._v("#")]),t._v(" 在默认User Agent中添加额外字段")]),t._v(" "),e("p",[t._v("如需在默认User Agent中添加myua字段，可配置如下：")]),t._v(" "),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"app-plus"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"useragent"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t"),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"value"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"myua"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t\t"),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"concatenate"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n\t\t"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("h4",{attrs:{id:"替换默认user-agent"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#替换默认user-agent"}},[t._v("#")]),t._v(" 替换默认User Agent")]),t._v(" "),e("p",[t._v('如需完全自定义User Agent为"CustomUA"，可配置如下：')]),t._v(" "),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"app-plus"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"useragent"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t"),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"value"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"CustomUA"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t\t"),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"concatenate"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n\t\t"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[e("code",[t._v("注意：此时默认UA信息中的操作系统及版本、浏览器渲染引擎、内核版本等信息将丢失，实际项目中不建议使用替换默认User Agent。")])])])}),[],!1,null,null,null);e.default=n.exports}}]);
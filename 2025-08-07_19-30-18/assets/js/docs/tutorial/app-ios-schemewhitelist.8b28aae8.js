(window.webpackJsonp=window.webpackJsonp||[]).push([[336],{722:function(s,n,t){"use strict";t.r(n);var a=t(1),e=Object(a.a)({},(function(){var s=this,n=s._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("p",[s._v("从iOS9开始系统安全策略更新，加入对用户隐私以及禁止扫描系统信息的控制，限制了应用对scheme协议的访问。需要将其它App注册的scheme添加到应用访问白名单（LSApplicationQueriesSchemes）中才能实现以下功能：")]),s._v(" "),n("ul",[n("li",[s._v("通过scheme检查其它App是否安装，不添加到白名单则检测结果为未安装（即使应用已经安装）")]),s._v(" "),n("li",[s._v("通过scheme协议调用其它App，不添加到白名单则会弹出提示框，用户确认后才能启动应用，添加到白名单列表后则无需用户确认直接启动应用。")])]),s._v(" "),n("p",[n("strong",[s._v("注意")]),n("br"),s._v("\niOS15及以上系统限制每个应用最多只能配置50个白名单列表，超过50个的白名单会失效，在配置白名单时需要注意以下问题：")]),s._v(" "),n("ul",[n("li",[s._v("部分模块使用的三方SDK（如微信登录）需要添加白名单列表，三方SDK添加的白名单优先级高于manifest.json中配置的白名单")]),s._v(" "),n("li",[s._v("uni原生插件可能也会添加白名单列表，uni原生插件添加的白名单优先级高于manifest.json中配置的白名单")])]),s._v(" "),n("h3",{attrs:{id:"设置应用访问白名单列表"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#设置应用访问白名单列表"}},[s._v("#")]),s._v(" 设置应用访问白名单列表")]),s._v(" "),n("h4",{attrs:{id:"可视化界面配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#可视化界面配置"}},[s._v("#")]),s._v(" 可视化界面配置")]),s._v(" "),n("p",[s._v("打开项目的manifest.json文件，切换到“App常用其它设置”项，在“iOS设置”下的“应用访问白名单”编辑框中配置：\n"),n("img",{attrs:{src:"https://native-res.dcloud.net.cn/images/uniapp/ios/chemewhitelist.png",alt:""}})]),s._v(" "),n("p",[n("strong",[s._v("注意：多个白名单列表使用“,”分割")])]),s._v(" "),n("blockquote",[n("p",[s._v("提示：如果可视化界面无法编辑，请切换到“源码视图”配置")])]),s._v(" "),n("h4",{attrs:{id:"源码视图配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#源码视图配置"}},[s._v("#")]),s._v(" 源码视图配置")]),s._v(" "),n("p",[s._v("打开项目的manifest.json文件，切换到“代码视图”")]),s._v(" "),n("ul",[n("li",[s._v("uni-app项目"),n("br"),s._v('\n在manifest.json文件的"app-plus"->"distribute"->"ios"下添加urlschemewhitelist节点数据如下：')])]),s._v(" "),n("div",{staticClass:"language-json extra-class"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"plus"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("  \n"),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"distribute"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("  \n    "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"ios"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("  \n        "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"urlschemewhitelist"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"baidumap,iosamap"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("  \n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//...  ")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("  \n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//...  ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("  \n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//...  ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("  \n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//... ")]),s._v("\n")])])]),n("ul",[n("li",[s._v("5+ App/Wap2App项目"),n("br"),s._v('\n把上面的urlschemewhitelist节点数据放到manifest.json的"plus"->"distribute"->"apple"节点下')])]),s._v(" "),n("p",[n("strong",[s._v("提示")])]),s._v(" "),n("blockquote",[n("p",[s._v("低版本HBuilderX中urlschemewhitelist字段值为数组类型，如下：")]),s._v(" "),n("div",{staticClass:"language-json extra-class"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"urlschemewhitelist"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"baidumap"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"iosamap"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])])]),n("p",[s._v("云端打包也可以兼容生效，只是无法在可视化界面编辑。")])]),s._v(" "),n("p",[n("strong",[s._v("注意")])]),s._v(" "),n("ul",[n("li",[s._v("配置后需提交云端打包后才能生效，真机运行时请使用"),n("a",{attrs:{href:"https://ask.dcloud.net.cn/article/35115",target:"_blank",rel:"noopener noreferrer"}},[s._v("自定义调试基座"),n("OutboundLink")],1)]),s._v(" "),n("li",[s._v("离线打包请直接在XCode工程中修改Info.plist文件的"),n("code",[s._v("LSApplicationQueriesSchemes")]),s._v("字段值")])]),s._v(" "),n("h3",{attrs:{id:"云端打包默认添加应用访问白名单列表"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#云端打包默认添加应用访问白名单列表"}},[s._v("#")]),s._v(" 云端打包默认添加应用访问白名单列表")]),s._v(" "),n("p",[s._v("为了方便开发者调用一些常用的第三方应用，云端打包默认已经添加以下白名单")]),s._v(" "),n("div",{staticClass:"language-txt extra-class"},[n("pre",{pre:!0,attrs:{class:"language-txt"}},[n("code",[s._v("weixin\nwechat\nmqq\nweibosdk2.5\nweibosdk\nmqqapi\nmqzone\nsinaweibo\nsinaweibohd\nmqqopensdkapiV3\nmqqwpa\nmqqopensdkapiV2\nmqqOpensdkSSoLogin\nqqmap\nbaidumap\niosamap\nopenApp.jdMobile\ntaobao\nhbuilder\npinduoduo\nimeituan\ntmall\ndianping\nvipshop\nyanxuan\nsuning\nkaola\nsnssdk32\nshark.video\nwbmain\ncydia\nstreamapp\nkwai\npptv\nbilibili\nkugouURL\nqqnews\nzhihu\ndoubanradio\nwccbyihaodian\nctrip\nkuaikanmanhua\nntesopen\nyddict\nshanbay\ngugutouchmanga\nbobo\nwtloginmqq2\nqrxs\nmailmaster\njcnhers\nlightsky\ngaeagj\nyixin\nydcourse\nawemesso'\n")])])]),n("p",[n("strong",[s._v("注意")]),n("br"),s._v("\n默认添加的应用访问白名单列表不会影响应用任何功能，当开发者配置的白名单超过50个时，默认添加的白名单列表将失效。")])])}),[],!1,null,null,null);n.default=e.exports}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[451],{835:function(t,e,l){"use strict";l.r(e);var o=l(1),r=Object(o.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"小程序运行日志回显"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#小程序运行日志回显"}},[t._v("#")]),t._v(" 小程序运行日志回显")]),t._v(" "),e("blockquote",[e("p",[t._v("HBuilderX 4.41+")])]),t._v(" "),e("p",[t._v("以往运行到小程序开发者工具时，打印的日志或报错，只能在小程序开发工具里看编译后的代码。")]),t._v(" "),e("p",[t._v("从HBuilderX 4.41+，uni-app(x) 运行到小程序开发者工具时，可以在HBuilderX的控制台查看运行时日志，并且显示uni-app源码位置，方便回源。")]),t._v(" "),e("ul",[e("li",[t._v("目前支持 vue3 项目的微信、支付宝、百度、抖音小程序。其他小程序平台未放开。")]),t._v(" "),e("li",[t._v("包含console信息和onError数据。其他信息(如：小程序开发工具自身的信息提示、视图层wxs/sjs、worklet等)无法获取，模板（如wxml/ttml等）警告、错误等信息暂不支持回溯到源码位置。")]),t._v(" "),e("li",[t._v("确保开启了不校验合法域名（默认已开启）。")]),t._v(" "),e("li",[t._v("如使用手机真机，需确保手机可以连接HBuilderX安装的电脑，手机和电脑在同一ip段，且电脑的防火墙没有拒绝连接。")]),t._v(" "),e("li",[t._v("真机预览的错误堆栈可能回溯不到源码位置。")]),t._v(" "),e("li",[t._v("日志回显使用了 socket 连接，为了避免冲突，建议使用 "),e("a",{attrs:{href:"https://uniapp.dcloud.net.cn/api/request/socket-task.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("SocketTask"),e("OutboundLink")],1),t._v(" 的方式去管理 WebSocket，而不是全局的 socket API 方式。因为小程序上全局 Socket 只能有一个连接，而 SocketTask 在小程序上目前最多允许并发 5 个 socket 连接（微信小程序文档标明最多5个，但有的设备上测试只有2个可用），如果您的小程序不希望日志回显占用 socket 连接，可以在 HBuilderX 控制台右上角手动取消日志回显功能（注意：切换后，需要重新运行）。")])]),t._v(" "),e("p",[t._v("日志回显开关\n"),e("img",{attrs:{src:"https://web-ext-storage.dcloud.net.cn/doc/hx/WX20250104-125814@2x_1.png",alt:"",loading:"lazy"}})]),t._v(" "),e("p",[t._v("日志回显效果：\n"),e("img",{attrs:{src:"https://web-ext-storage.dcloud.net.cn/hx/05519546-456A-4B0C-AA0E-23199917F7B8.png",alt:"",loading:"lazy"}})])])}),[],!1,null,null,null);e.default=r.exports}}]);